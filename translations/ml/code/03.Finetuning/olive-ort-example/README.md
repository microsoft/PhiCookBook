# Olive เดเดชเดฏเตเดเดฟเดเตเดเต Phi3 เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดฏเตเด

เด เดเดฆเดพเดนเดฐเดฃเดคเตเดคเดฟเตฝ เดจเดฟเดเตเดเตพ Olive เดเดชเดฏเตเดเดฟเดเตเดเต เดเตเดฏเตเดฏเตเดจเตเดจเดคเต:

1. เดตเดพเดเตเดฏเดเตเดเดณเต Sad, Joy, Fear, Surprise เดเดจเตเดจเดฟเดเตเดเดจเต เดตเตผเดเตเดเดฐเดฟเดเตเดเดพเตป เดเดฐเต LoRA เดเดกเดพเดชเตเดฑเตเดฑเดฑเต เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดฏเตเด.
1. เดเดกเดพเดชเตเดฑเตเดฑเตผ เดตเตเดฏเตเดฑเตเดฑเตเดเตพ เดเดเดฟเดธเตเดฅเดพเดจ เดฎเตเดกเดฒเดฟเดฒเตเดเตเดเต เดฒเดฏเดฟเดชเตเดชเดฟเดเตเดเตเด.
1. เดฎเตเดกเตฝ optimize เดเตเดฏเตเดคเต `int4` เดเดฏเดฟ เดเตเดตเดพเดฃเตเดเตเดธเตเดเตเดฏเตเดฏเตเด.

เดเดเตเดเตพ เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดค เดฎเตเดกเตฝ ONNX Runtime (ORT) Generate API เดเดชเดฏเตเดเดฟเดเตเดเต เดเตปเดซเดฑเตปเดธเต เดเตเดฏเตเดฏเตเดจเตเดจเดคเต เดเดเตเดเดจเต เดเตเดฏเตเดฏเดพเดฎเตเดจเตเดจเต เดเดพเดฃเดฟเดเตเดเตเด.

> **โ๏ธ เดซเตเตป-เดเตเดฏเตเดฃเดฟเดเตเดเดฟเดจเดพเดฏเดฟ เดเดจเตเดฏเตเดเตเดฏเดฎเดพเดฏ GPU เดฒเดญเตเดฏเดฎเดพเดฏเดฟเดฐเดฟเดเตเดเดฃเด - เดเดฆเดพเดนเดฐเดฃเดคเตเดคเดฟเดจเต, A10, V100, A100.**

## ๐พ เดเตปเดธเตเดฑเตเดฑเดพเตพ

เดเดฐเต เดชเตเดคเดฟเดฏ Python เดตเตเตผเดเตเดเตเดตเตฝ เดเตปเดตเดฏเตเตบเดฎเตเดจเตเดฑเต เดธเตเดทเตเดเดฟเดเตเดเตเด (เดเดฆเดพเดนเดฐเดฃเดคเตเดคเดฟเดจเต, `conda` เดเดชเดฏเตเดเดฟเดเตเดเต):

```bash
conda create -n olive-ai python=3.11
conda activate olive-ai
```

Next, install the Olive and the dependencies for a fine-tuning workflow:

```bash
cd Phi-3CookBook/code/04.Finetuning/olive-ort-example
pip install olive-ai[gpu]
pip install -r requirements.txt
```

## ๐งช Olive เดเดชเดฏเตเดเดฟเดเตเดเต Phi3 เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดฏเตเด
[Olive configuration file](../../../../../code/03.Finetuning/olive-ort-example/phrase-classification.json) เดคเดพเดดเต เดเดพเดฃเดฟเดเตเดเดฟเดฐเดฟเดเตเดเตเดจเตเดจ *เดตเตผเดเตโเดซเตเดฒเต* เดฏเดฟเตฝ เดคเดพเดดเตเดชเตเดชเดฑเดฏเตเดจเตเดจ *เดชเดพเดธเตเดเตพ* เดเดเดเตเดเดฟเดฏเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต:

Phi3 -> LoRA -> MergeAdapterWeights -> ModelBuilder

เดฒเดเตเดตเดพเดฏเดฟ, เด เดตเตผเดเตโเดซเตเดฒเต เดเตเดฏเตเดฏเตเดจเตเดจเดคเดพเดฃเต:

1. [dataset/data-classification.json](../../../../../code/03.Finetuning/olive-ort-example/dataset/dataset-classification.json) เดกเดพเดฑเตเดฑ เดเดชเดฏเตเดเดฟเดเตเดเต Phi3 (150 เดธเตเดฑเตเดฑเตเดชเตเดชเตเดเตพเดเตเดเดพเดฏเดฟ, เดจเดฟเดเตเดเตพ เดเดคเต เดฎเดพเดฑเตเดฑเดพเดตเตเดจเตเดจเดคเดพเดฃเต) เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดฏเตเด.
1. LoRA เดเดกเดพเดชเตเดฑเตเดฑเตผ เดตเตเดฏเตเดฑเตเดฑเตเดเตพ เดเดเดฟเดธเตเดฅเดพเดจ เดฎเตเดกเดฒเดฟเดฒเตเดเตเดเดพเดฏเดฟ เดฒเดฏเดฟเดชเตเดชเดฟเดเตเดเตเด. เดเดคเตเดเต เดจเดฟเดเตเดเตพเดเตเดเต ONNX เดซเตเตผเดฎเดพเดฑเตเดฑเดฟเดฒเตเดณเตเดณ เดเดฑเตเดฑ เดฎเตเดกเตฝ เดเตผเดเตเดเดฟเดซเดพเดเตเดเต เดฒเดญเดฟเดเตเดเตเด.
1. ModelBuilder เดฎเตเดกเดฒเดฟเดจเต ONNX runtime-เดจเต เดเดจเตเดฏเตเดเตเดฏเดฎเดพเดฏเดฟ optimize เดเตเดฏเตเดฏเตเดเดฏเตเด *เดเดจเตเดจเตเด* เดฎเตเดกเตฝ `int4` เดเดฏเดฟ เดเตเดตเดพเดฃเตเดเตเดธเตเดเตเดฏเตเดฏเตเดเดฏเตเด เดเตเดฏเตเดฏเตเด.

เดตเตผเดเตโเดซเตเดฒเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเดพเตป, เดเตเดตเดเต เดจเตฝเดเดฟเดฏเดคเต เดฑเตบ เดเตเดฏเตเดฏเตเด:

```bash
olive run --config phrase-classification.json
```

Olive เดชเตเตผเดคเตเดคเดฟเดฏเดพเดฏเดชเตเดชเตเตพ, optimize เดเตเดฏเตเดค `int4` เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดค Phi3 เดฎเตเดกเตฝ เดฒเดญเตเดฏเดฎเดพเดฃเต: `code/04.Finetuning/olive-ort-example/models/lora-merge-mb/gpu-cuda_model`.

## ๐งโ๐ป เดซเตเตป-เดเตเดฏเตเตบ เดเตเดฏเตเดค Phi3 เดจเดฟเดเตเดเดณเตเดเต เดเดชเตเดฒเดฟเดเตเดเตเดทเดจเดฟเตฝ เดเดจเตเดฑเดเตเดฐเตเดฑเตเดฑเต เดเตเดฏเตเดฏเตเด

เดเดชเตเดชเต เดฑเตบ เดเตเดฏเตเดฏเดพเตป:

```bash
python app/app.py --phrase "cricket is a wonderful sport!" --model-path models/lora-merge-mb/gpu-cuda_model
```

เด เดชเตเดฐเดคเดฟเดเดฐเดฃเด เดตเดพเดเตเดฏเดคเตเดคเดฟเดจเตเดฑเต เดเดฑเตเดฑเดตเดพเดเตเดเตเดณเตเดณ เดตเตผเดเตเดเดฐเดฃเด เดเดฏเดฟเดฐเดฟเดเตเดเดฃเด (Sad/Joy/Fear/Surprise).

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
เดกเดฟเดธเตเดเตเดฒเตเดฏเดฟเดฎเตผ:
เด เดฐเตเด AI เดชเดฐเดฟเดญเดพเดทเดพ เดธเตเดตเดจเด Coโop Translator (https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดชเดฐเดฟเดญเดพเดทเดชเตเดชเตเดเตเดคเตเดคเดฟเดฏเดคเดพเดฃเต. เดเดเตเดเตพ เดเตเดคเตเดฏเดคเดฏเตเดเตเดเต เดถเตเดฐเดฎเดฟเดเตเดเตเดฃเตเดเตเดเตเดเดฟเดฒเตเด, เดเดเตเดเตเดฎเตเดฑเตเดฑเดกเต เดชเดฐเดฟเดญเดพเดทเดเดณเดฟเตฝ เดคเตเดฑเตเดฑเตเดเดณเต เดเดชเตเตผเดฃเตเดฃเดคเดเดณเต เดเดฃเตเดเดพเดตเดพเดตเตเดจเตเดจเดคเดพเดฃเต เดเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเด. เดฎเตเดฒเดญเดพเดทเดฏเดฟเดฒเตเดณเตเดณ เดเดคเดฟเดจเตเดฑเต เดเดฑเดฟเดเดฟเดจเตฝ เดฐเตเดเดฏเต เดเดงเดฟเดเดพเดฐเดชเดฐเดฎเดพเดฏ เดเดฑเดตเดฟเดเดฎเดพเดฏเดฟ เดเดฐเตเดคเตเด. เดเดคเตเดฏเดพเดตเดถเตเดฏเดฎเดพเดฏ เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดจเตเดทเตเดฏเดชเดฐเดฟเดญเดพเดท เดถเตเดชเดพเตผเดถ เดเตเดฏเตเดฏเดชเตเดชเตเดเตเดจเตเดจเต. เด เดชเดฐเดฟเดญเดพเดทเดฏเตเดเต เดเดชเดฏเตเดเคพเคฎเฅเคณเฅ เดเดฃเตเดเดพเดฏเตเดเตเดเดพเดตเตเดจเตเดจ เดเดคเตเดเตเดเดฟเดฒเตเด เดคเตเดฑเตเดฑเดฟเดฆเตเดงเดพเดฐเดฃเดเตพเดเตเดเตเด เดตเตเดฏเดพเดเตเดฏเดพเดจเดญเตเดฐเดฎเดเตเดเตพเดเตเดเตเด เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดเดณเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->