# ਇੰਟਰਐਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈੱਟਬੋਟ ਵਿਥ ਵਿਸਪਰ

## ਜਾਇਜ਼ਾ

ਇੰਟਰਐਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈੱਟਬੋਟ ਇੱਕ ਔਜ਼ਾਰ ਹੈ ਜੋ ਉਪਭੋਗਤਾਵਾਂ ਨੂੰ ਮਾਈਕ੍ਰੋਸਾਫਟ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਨਾਲ ਟੈਕਸਟ ਜਾਂ ਆਡੀਓ ਇਨਪੁੱਟ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੰਟਰਐਕਟ ਕਰਨ ਦਿੰਦਾ ਹੈ। ਚੈੱਟਬੋਟ ਨੂੰ ਵੱਖ-ਵੱਖ ਕੰਮਾਂ ਲਈ ਵਰਤਿਆ ਜਾ ਸਕਦਾ ਹੈ, ਜਿਵੇਂ ਕਿ ਅਨੁਵਾਦ, ਮੌਸਮ ਅਪਡੇਟਾਂ ਅਤੇ ਆਮ ਜਾਣਕਾਰੀ ਇਕੱਠੀ ਕਰਨਾ।

### ਸ਼ੁਰੂਆਤ ਕਰਨਾ

ਇਸ ਚੈੱਟਬੋਟ ਨੂੰ ਵਰਤਣ ਲਈ, ਸਿਰਫ ਇਹਨਾਂ ਹਦਾਇਤਾਂ ਦਾ ਪਾਲਣ ਕਰੋ:

1. ਇੱਕ ਨਵਾਂ [E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb](https://github.com/microsoft/Phi-3CookBook/blob/main/code/06.E2E/E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb) ਖੋਲ੍ਹੋ
2. ਨੋਟਬੁੱਕ ਦੀ ਮੁੱਖ ਖਿੜਕੀ ਵਿੱਚ, ਤੁਸੀਂ ਇੱਕ ਚੈਟਬਾਕਸ ਇੰਟਰਫੇਸ ਦੇਖੋਗੇ ਜਿਸ ਵਿੱਚ ਟੈਕਸਟ ਇਨਪੁੱਟ ਬਾਕਸ ਅਤੇ "Send" ਬਟਨ ਹੈ।
3. ਟੈਕਸਟ-ਆਧਾਰਿਤ ਚੈੱਟਬੋਟ ਨੂੰ ਵਰਤਣ ਲਈ, ਸਿਰਫ ਆਪਣੇ ਸੁਨੇਹੇ ਨੂੰ ਟੈਕਸਟ ਇਨਪੁੱਟ ਬਾਕਸ ਵਿੱਚ ਲਿਖੋ ਅਤੇ "Send" ਬਟਨ 'ਤੇ ਕਲਿੱਕ ਕਰੋ। ਚੈੱਟਬੋਟ ਇੱਕ ਆਡੀਓ ਫਾਇਲ ਨਾਲ ਜਵਾਬ ਦੇਵੇਗਾ ਜੋ ਨੋਟਬੁੱਕ ਦੇ ਅੰਦਰੋਂ ਸਿੱਧਾ ਚਲਾਈ ਜਾ ਸਕਦੀ ਹੈ।

**ਨੋਟ**: ਇਸ ਟੂਲ ਲਈ GPU ਅਤੇ ਮਾਈਕ੍ਰੋਸਾਫਟ ਫਾਈ-3 ਅਤੇ OpenAI Whisper ਮਾਡਲਾਂ ਦੀ ਪਹੁੰਚ ਦੀ ਲੋੜ ਹੈ, ਜੋ ਬੋਲ ਚਾਲ ਦੀ ਪਹਿਚਾਣ ਅਤੇ ਅਨੁਵਾਦ ਲਈ ਵਰਤਿਆ ਜਾਂਦਾ ਹੈ।

### GPU ਦੀਆਂ ਲੋੜਾਂ

ਇਹ ਡੈਮੋ ਚਲਾਉਣ ਲਈ ਤੁਹਾਨੂੰ 12GB GPU ਮੈਮੋਰੀ ਦੀ ਲੋੜ ਹੈ।

GPU 'ਤੇ **Microsoft-Phi-3-Mini-4K instruct** ਡੈਮੋ ਚਲਾਉਣ ਲਈ ਮੈਮੋਰੀ ਦੀਆਂ ਲੋੜਾਂ ਕਈ ਅੰਸ਼ਾਂ ਤੇ ਨਿਰਭਰ ਕਰਦੀਆਂ ਹਨ, ਜਿਵੇਂ ਕਿ ਇਨਪੁੱਟ ਡਾਟਾ (ਆਡੀਓ ਜਾਂ ਟੈਕਸਟ) ਦਾ ਆਕਾਰ, ਅਨੁਵਾਦ ਲਈ ਵਰਤੀ ਭਾਸ਼ਾ, ਮਾਡਲ ਦੀ ਗਤੀ ਅਤੇ GPU 'ਤੇ ਉਪਲਬਧ ਮੈਮੋਰੀ।

ਆਮ ਤੌਰ 'ਤੇ, Whisper ਮਾਡਲ GPUs 'ਤੇ ਚਲਾਉਣ ਲਈ ਡਿਜ਼ਾਇਨ ਕੀਤਾ ਗਿਆ ਹੈ। Whisper ਮਾਡਲ ਚਲਾਉਣ ਲਈ ਗੁਣਵੱਤਾ ਅਤੇ ਘੱਟੋ-ਘੱਟ GPU ਮੈਮੋਰੀ 8 GB ਹਨ, ਪਰ ਜੇ ਲੋੜ ਹੋਵੇ ਤਾਂ ਵੱਡੀ ਮੈਮੋਰੀ ਨਾਲ ਵੀ ਸੰਭਾਲਾ ਕਰ ਸਕਦਾ ਹੈ।

ਇਹ ਜ਼ਰੂਰੀ ਹੈ ਕਿ ਜੇ ਮਾਡਲ 'ਤੇ ਵੱਡੀ ਮਾਤਰਾ ਵਿੱਚ ਡਾਟਾ ਜਾਂ ਬਹੁਤ requests ਆਉਣ, ਤਾਂ ਹੋ ਸਕਦਾ ਹੈ ਕਿ ਵਧੀਕ GPU ਮੈਮੋਰੀ ਦੀ ਲੋੜ ਪਏ ਜਾਂ ਪ੍ਰਦਰਸ਼ਨ ਸਮੱਸਿਆਵਾਂ ਹੋਣ। ਆਪਣੀ ਵਰਤੋਂ ਦੀ ਸਥਿਤੀ ਨੂੰ ਵੱਖ-ਵੱਖ ਸੰਰਚਨਾਵਾਂ ਨਾਲ ਟੈਸਟ ਕਰਨ ਅਤੇ ਮੈਮੋਰੀ ਦੀ ਵਰਤੋਂ ਦੀ ਨਿਗਰਾਨੀ ਕਰਨ ਦੀ ਸਿਫਾਰਸ਼ ਕੀਤੀ ਜਾਂਦੀ ਹੈ ਤਾਂ ਜੋ ਤੁਹਾਡੇ ਵਿਸ਼ੇਸ਼ ਲੋੜਾਂ ਲਈ ਸਭ ਤੋਂ ਵਧੀਆ ਵਿਵਸਥਾ ਜਾਣੀ ਜਾ ਸਕੇ।

## ਇੰਟਰਐਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈੱਟਬੋਟ ਵਿਥ ਵਿਸਪਰ ਲਈ E2E ਨਮੂਨਾ

ਜਪਿਟਰ ਨੋਟਬੁੱਕ ਜਿਸ ਦਾ ਸਿਰਲੇਖ [ਇੰਟਰਐਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈੱਟਬੋਟ ਵਿਥ ਵਿਸਪਰ](https://github.com/microsoft/Phi-3CookBook/blob/main/code/06.E2E/E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb) ਹੈ, ਦਿਖਾਉਂਦਾ ਹੈ ਕਿ ਮਾਈਕ੍ਰੋਸਾਫਟ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਨਾਲ ਆਡੀਓ ਜਾਂ ਲਿਖਤ ਟੈਕਸਟ ਇਨਪੁੱਟ ਤੋਂ ਟੈਕਸਟ ਕਿਵੇਂ ਬਣਾਇਆ ਜਾਵੇ। ਨੋਟਬੁੱਕ ਵਿੱਚ ਕੁਝ ਫੰਕਸ਼ਨਾਂ ਦੀ ਵਿਆਖਿਆ ਕੀਤੀ ਗਈ ਹੈ:

1. `tts_file_name(text)`: ਇਹ ਫੰਕਸ਼ਨ ਜਨਰੇਟ ਕੀਤੇ ਅਆਡੀਓ ਫਾਇਲ ਨੂੰ ਸੰਭਾਲਣ ਲਈ ਇਨਪੁੱਟ ਟੈਕਸਟ ਦੇ ਆਧਾਰ 'ਤੇ ਇੱਕ ਫਾਇਲ ਨਾਂਮ ਬਣਾਉਂਦਾ ਹੈ।
2. `edge_free_tts(chunks_list,speed,voice_name,save_path)`: ਇਹ ਫੰਕਸ਼ਨ ਇਨਪੁੱਟ ਟੈਕਸਟ ਦੇ ਕਟਕੜਿਆਂ ਦੀ ਸੂਚੀ ਤੋਂ Edge TTS API ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੱਕ ਆਡੀਓ ਫਾਇਲ ਜਨਰੇਟ ਕਰਦਾ ਹੈ। ਇਨਪੁੱਟ ਪੈਰਾਮੀਟਰ ਹਨ ਕਟਕੜਿਆਂ ਦੀ ਸੂਚੀ, ਬੋਲਣ ਦੀ ਰਫਤਾਰ, ਅਵਾਜ਼ ਦਾ ਨਾਂ ਅਤੇ ਜਨਰੇਟ ਕੀਤੀ ਆਡੀਓ ਫਾਇਲ ਨੂੰ ਸੰਭਾਲਣ ਲਈ ਬਾਹਰਲੇ ਪਾਥ।
3. `talk(input_text)`: ਇਹ ਫੰਕਸ਼ਨ Edge TTS API ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੱਕ ਆਡੀਓ ਫਾਇਲ ਬਣਾਉਂਦਾ ਹੈ ਅਤੇ /content/audio ਡਾਇਰੈਕਟਰੀ ਵਿੱਚ ਵੱਖਰੇ ਫਾਇਲ ਨਾਂਮ ਦੇ ਜ਼ਰੀਏ ਇਸਨੂੰ ਸੇਵ ਕਰਦਾ ਹੈ। ਇਨਪੁੱਟ ਪੈਰਾਮੀਟਰ ਉਹ ਟੈਕਸਟ ਹੈ ਜਿਸਨੂੰ ਬੋਲ ਵਿੱਚ ਬਦਲਣਾ ਹੈ।
4. `run_text_prompt(message, chat_history)`: ਇਹ ਫੰਕਸ਼ਨ ਮੈਸੇਜ ਇਨਪੁੱਟ ਤੋਂ ਮਾਈਕ੍ਰੋਸਾਫਟ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੱਕ ਆਡੀਓ ਫਾਇਲ ਬਣਾਉਂਦਾ ਹੈ ਅਤੇ ਇਸਨੂੰ ਚੈਟ ਦੀ ਇਤਿਹਾਸ ਵਿੱਚ ਜੋੜਦਾ ਹੈ।
5. `run_audio_prompt(audio, chat_history)`: ਇਹ ਫੰਕਸ਼ਨ ਇੱਕ ਆਡੀਓ ਫਾਇਲ ਨੂੰ Whisper ਮਾਡਲ API ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਟੈਕਸਟ ਵਿੱਚ ਬਦਲਦਾ ਹੈ ਅਤੇ `run_text_prompt()` ਫੰਕਸ਼ਨ ਨੂੰ ਭੇਜਦਾ ਹੈ।
6. ਕੋਡ ਇੱਕ Gradio ਐਪ ਲਾਂਚ ਕਰਦਾ ਹੈ ਜੋ ਉਪਭੋਗਤਾਵਾਂ ਨੂੰ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਨਾਲ ਸੰਦੇਸ਼ ਲਿਖ ਕੇ ਜਾਂ ਆਡੀਓ ਫਾਇਲਾਂ ਅਪਲੋਡ ਕਰਕੇ ਇੰਟਰਐਕਟ ਕਰਨ ਦਿੰਦਾ ਹੈ। ਨਤੀਜੇ ਨੂੰ ਐਪ ਵਿਚ ਟੈਕਸਟ ਸੁਨੇਹੇ ਵਜੋਂ ਦਿਖਾਇਆ ਜਾਂਦਾ ਹੈ।

## ਸਮੱਸਿਆ ਦਾ ਹੱਲ

ਕੁਡਾ GPU ਡਰਾਈਵਰਸ ਇੰਸਟਾਲ ਕਰਨਾ

1. ਯਕੀਨੀ ਬਣਾਓ ਕਿ ਤੁਹਾਡੇ ਲਿਨਕਸ ਐਪਲੀਕੇਸ਼ਨ ਅੱਪ-ਟੂ-ਡੇਟ ਹਨ

    ```bash
    sudo apt update
    ```

1. ਕੁਡਾ ਡਰਾਈਵਰਸ ਇੰਸਟਾਲ ਕਰੋ

    ```bash
    sudo apt install nvidia-cuda-toolkit
    ```

1. ਕੁਡਾ ਡਰਾਈਵਰ ਸਥਿਤੀ ਨੂੰ ਰਜਿਸਟਰ ਕਰੋ

    ```bash
    echo /usr/lib64-nvidia/ >/etc/ld.so.conf.d/libcuda.conf; ldconfig
    ```

1. NVIDIA GPU ਮੈਮੋਰੀ ਆਕਾਰ ਚੈੱਕ ਕਰੋ (ਲੋੜੀਂਦਾ 12GB GPU ਮੈਮੋਰੀ)

    ```bash
    nvidia-smi
    ```

1. ਖਾਲੀ ਕੈਸ਼: ਜੇ ਤੁਸੀਂ PyTorch ਵਰਤ ਰਹੇ ਹੋ, ਤਾਂ torch.cuda.empty_cache() ਕਾਲ ਕਰੋ ਤਾਂ ਜੋ ਸਾਰੀ ਬੇਕਾਰ ਕੈਸ਼ ਕੀਤੀ ਮੈਮੋਰੀ ਮੁਕਤ ਹੋ ਜਾਵੇ ਅਤੇ ਹੋਰ GPU ਐਪਲੀਕੇਸ਼ਨਾਂ ਦੁਆਰਾ ਵਰਤੀ ਜਾ ਸਕੇ।

    ```python
    torch.cuda.empty_cache() 
    ```

1. NVIDIA ਕੂਡਾ ਚੈੱਕ ਕਰਨਾ

    ```bash
    nvcc --version
    ```

1. ਹੱਗਿੰਗ ਫੇਸ ਟੋਕਨ ਬਣਾਉਣ ਲਈ ਹੇਠ ਲਿਖੇ ਕੰਮ ਕਰੋ।

    - [Hugging Face Token Settings page](https://huggingface.co/settings/tokens?WT.mc_id=aiml-137032-kinfeylo) ਤੇ ਜਾਓ।
    - **New token** ਚੁਣੋ।
    - ਉੱਥੇ ਪ੍ਰਾਜੈਕਟ ਨਾਮ ਦਰਜ ਕਰੋ ਜੋ ਤੁਸੀਂ ਵਰਤਣਾ ਚਾਹੁੰਦੇ ਹੋ।
    - **Type** ਨੂੰ **Write** ਚੁਣੋ।

> [!NOTE]
>
> ਜੇ ਤੁਸੀਂ ਹੇਠ ਲਿਖੀ ਗਲਤੀ ਨਾਲ ਮੁੰਹ ਦੇਖਦੇ ਹੋ:
>
> ```bash
> /sbin/ldconfig.real: Can't create temporary cache file /etc/ld.so.cache~: Permission denied 
> ```
>
> ਇਸਨੂੰ ਸਹੀ ਕਰਨ ਲਈ, ਆਪਣੇ ਟਰਮੀਨਲ ਵਿੱਚ ਹੇਠ ਲਿਖਿਆ ਕਮਾੰਡ ਟਾਈਪ ਕਰੋ।
>
> ```bash
> sudo ldconfig
> ```

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**ਇਸਤੇਫਾ**:  
ਇਹ ਦਸਤਾਵੇਜ਼ AI ਅਨੁਵਾਦ ਸੇਵਾ [Co-op Translator](https://github.com/Azure/co-op-translator) ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਅਨੁਵਾਦਿਤ ਕੀਤਾ ਗਿਆ ਹੈ। ਜਦੋਂ ਕਿ ਅਸੀਂ ਸਹੀਤਾ ਲਈ ਕੋਸ਼ਿਸ਼ ਕਰਦੇ ਹਾਂ, ਕਿਰਪਾ ਕਰਕੇ ਧਿਆਨ ਵਿੱਚ ਰੱਖੋ ਕਿ ਸੁਚਾਰੂ ਅਨੁਵਾਦਾਂ ਵਿੱਚ ਗਲਤੀਆਂ ਜਾਂ ਅਸਟੀਤਾ ਹੋ ਸਕਦੀ ਹੈ। ਮੂਲ ਦਸਤਾਵੇਜ਼ ਆਪਣੀ ਮੂਲ ਭਾਸ਼ਾ ਵਿੱਚ ਅਥੋਰਿਟੇਟਿਵ ਸਰੋਤ ਵਜੋਂ ਮੰਨਿਆ ਜਾਣਾ ਚਾਹੀਦਾ ਹੈ। ਸੰਵੇਦਨਸ਼ੀਲ ਜਾਣਕਾਰੀ ਲਈ, ਪੇਸ਼ੇਵਰ ਮਨੁੱਖੀ ਅਨੁਵਾਦ ਸਿਫਾਰਸ਼ੀ ਹੈ। ਅਸੀਂ ਇਸ ਅਨੁਵਾਦ ਦੀ ਵਰਤੋਂ ਤੋਂ ਪੈਦਾ ਹੋਣ ਵਾਲੇ ਕਿਸੇ ਵੀ ਗਲਤਫਹਿਮੀਆਂ ਜਾਂ ਗਲਤ ਵਿਆਖਿਆਵਾਂ ਲਈ ਜਿੰਮੇਵਾਰ ਨਹੀਂ ਹਾਂ।
<!-- CO-OP TRANSLATOR DISCLAIMER END -->