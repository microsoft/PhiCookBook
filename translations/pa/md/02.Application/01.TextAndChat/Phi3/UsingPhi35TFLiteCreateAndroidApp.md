<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c4fe7f589d179be96a5577b0b8cba6aa",
  "translation_date": "2025-05-09T18:48:03+00:00",
  "source_file": "md/02.Application/01.TextAndChat/Phi3/UsingPhi35TFLiteCreateAndroidApp.md",
  "language_code": "pa"
}
-->
# **Microsoft Phi-3.5 tflite ‡®®‡®æ‡®≤ Android ‡®ê‡®™ ‡®¨‡®£‡®æ‡®â‡®£‡®æ**

‡®á‡®π Microsoft Phi-3.5 tflite ‡®Æ‡®æ‡®°‡®≤‡®æ‡®Ç ‡®¶‡©Ä ‡®µ‡®∞‡®§‡©ã‡®Ç ‡®ï‡®∞‡®ï‡©á ‡®¨‡®£‡®æ‡®á‡®Ü ‡®ó‡®ø‡®Ü ‡®á‡©±‡®ï Android ‡®∏‡©à‡®Ç‡®™‡®≤ ‡®π‡©à‡•§

## **üìö ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä**

Android LLM Inference API ‡®§‡©Å‡®π‡®æ‡®®‡©Ç‡©∞ Android ‡®ê‡®™‡®≤‡©Ä‡®ï‡©á‡®∏‡®º‡®®‡®æ‡®Ç ‡®≤‡®à ‡®µ‡©±‡®°‡©á ‡®≠‡®æ‡®∏‡®º‡®æ ‡®Æ‡®æ‡®°‡®≤ (LLMs) ‡®®‡©Ç‡©∞ ‡®™‡©Ç‡®∞‡©Ä ‡®§‡®∞‡©ç‡®π‡®æ‡®Ç ‡®°‡®ø‡®µ‡®æ‡®à‡®∏ '‡®§‡©á ‡®ö‡®≤‡®æ‡®â‡®£ ‡®¶‡©Ä ‡®∏‡®π‡©Ç‡®≤‡®§ ‡®¶‡®ø‡©∞‡®¶‡®æ ‡®π‡©à, ‡®ú‡®ø‡®∏ ‡®®‡®æ‡®≤ ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®µ‡©±‡®ñ-‡®µ‡©±‡®ñ ‡®ï‡©∞‡®Æ ‡®ï‡®∞ ‡®∏‡®ï‡®¶‡©á ‡®π‡©ã, ‡®ú‡®ø‡®µ‡©á‡®Ç ‡®ï‡®ø ‡®ü‡©à‡®ï‡®∏‡®ü ‡®¨‡®£‡®æ‡®â‡®£‡®æ, ‡®ï‡©Å‡®¶‡®∞‡®§‡©Ä ‡®≠‡®æ‡®∏‡®º‡®æ ‡®µ‡®ø‡©±‡®ö ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä ‡®™‡©ç‡®∞‡®æ‡®™‡®§ ‡®ï‡®∞‡®®‡®æ, ‡®Ö‡®§‡©á ‡®¶‡®∏‡®§‡®æ‡®µ‡©á‡®ú‡®º‡®æ‡®Ç ‡®¶‡®æ ‡®∏‡©∞‡®ñ‡©á‡®™ ‡®¨‡®£‡®æ‡®â‡®£‡®æ‡•§ ‡®á‡®π ‡®ü‡®æ‡®∏‡®ï ‡®ï‡®à ‡®ü‡©à‡®ï‡®∏‡®ü-‡®ü‡©Ç-‡®ü‡©à‡®ï‡®∏‡®ü ‡®µ‡©±‡®°‡©á ‡®≠‡®æ‡®∏‡®º‡®æ ‡®Æ‡®æ‡®°‡®≤‡®æ‡®Ç ‡®≤‡®à ‡®¨‡®ø‡®≤‡®ü-‡®á‡®® ‡®∏‡®π‡®æ‡®á‡®§‡®æ ‡®¶‡®ø‡©∞‡®¶‡®æ ‡®π‡©à, ‡®§‡®æ‡®Ç ‡®ú‡©ã ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®Ü‡®™‡®£‡©á Android ‡®ê‡®™‡®∏ ‡®µ‡®ø‡©±‡®ö ‡®Ü‡®ñ‡®∞‡©Ä ‡®ú‡®Æ‡®æ‡®§ ‡®¶‡©á ‡®ú‡®®‡®∞‡©á‡®ü‡®ø‡®µ AI ‡®Æ‡®æ‡®°‡®≤‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®µ‡®∞‡®§ ‡®∏‡®ï‡©ã‡•§

Google AI Edge Torch ‡®á‡©±‡®ï ‡®™‡®æ‡®á‡®•‡®® ‡®≤‡®æ‡®á‡®¨‡©ç‡®∞‡©á‡®∞‡©Ä ‡®π‡©à ‡®ú‡©ã PyTorch ‡®Æ‡®æ‡®°‡®≤‡®æ‡®Ç ‡®®‡©Ç‡©∞ .tflite ‡®´‡®æ‡®∞‡®Æ‡©à‡®ü ‡®µ‡®ø‡©±‡®ö ‡®¨‡®¶‡®≤‡®£ ‡®¶‡©Ä ‡®∏‡®π‡®æ‡®á‡®§‡®æ ‡®¶‡®ø‡©∞‡®¶‡©Ä ‡®π‡©à, ‡®ú‡®ø‡®∏‡®®‡©Ç‡©∞ ‡®´‡®ø‡®∞ TensorFlow Lite ‡®Ö‡®§‡©á MediaPipe ‡®®‡®æ‡®≤ ‡®ö‡®≤‡®æ‡®á‡®Ü ‡®ú‡®æ ‡®∏‡®ï‡®¶‡®æ ‡®π‡©à‡•§ ‡®á‡®π Android, iOS ‡®Ö‡®§‡©á IoT ‡®≤‡®à ‡®ê‡®™‡®≤‡©Ä‡®ï‡©á‡®∏‡®º‡®®‡®æ‡®Ç ‡®¨‡®£‡®æ‡®â‡®£ ‡®Ø‡©ã‡®ó ‡®¨‡®£‡®æ‡®â‡®Ç‡®¶‡®æ ‡®π‡©à ‡®ú‡©ã ‡®Æ‡®æ‡®°‡®≤‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®™‡©Ç‡®∞‡©Ä ‡®§‡®∞‡©ç‡®π‡®æ‡®Ç ‡®°‡®ø‡®µ‡®æ‡®à‡®∏ '‡®§‡©á ‡®ö‡®≤‡®æ ‡®∏‡®ï‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§ AI Edge Torch ‡®µ‡©±‡®°‡©á ‡®™‡©±‡®ß‡®∞ '‡®§‡©á CPU ‡®∏‡®π‡®æ‡®á‡®§‡®æ ‡®¶‡®ø‡©∞‡®¶‡®æ ‡®π‡©à, ‡®Ö‡®§‡©á ‡®∏‡®º‡©Å‡®∞‡©Ç‡®Ü‡®§‡©Ä GPU ‡®Ö‡®§‡©á NPU ‡®∏‡®π‡®æ‡®á‡®§‡®æ ‡®µ‡©Ä ‡®™‡©ç‡®∞‡®¶‡®æ‡®® ‡®ï‡®∞‡®¶‡®æ ‡®π‡©à‡•§ AI Edge Torch PyTorch ‡®®‡®æ‡®≤ ‡®ó‡®π‡®ø‡®∞‡®æ‡®à ‡®®‡®æ‡®≤ ‡®á‡©∞‡®ü‡©Ä‡®ó‡©ç‡®∞‡©á‡®ü ‡®π‡©ã‡®£ ‡®¶‡©Ä ‡®ï‡©ã‡®∏‡®º‡®ø‡®∏‡®º ‡®ï‡®∞‡®¶‡®æ ‡®π‡©à, torch.export() ‡®¶‡©á ‡®â‡©±‡®™‡®∞ ‡®¨‡®£‡®ø‡®Ü ‡®π‡©ã‡®á‡®Ü ‡®π‡©à ‡®Ö‡®§‡©á Core ATen ‡®Ü‡®™‡®∞‡©á‡®ü‡®∞‡®æ‡®Ç ‡®¶‡©Ä ‡®µ‡®ß‡©Ä‡®Ü ‡®ï‡®µ‡®∞‡©á‡®ú ‡®¶‡®ø‡©∞‡®¶‡®æ ‡®π‡©à‡•§

## **ü™¨ ‡®¶‡®ø‡®∂‡®æ-‡®®‡®ø‡®∞‡®¶‡©á‡®∏‡®º**

### **üî• Microsoft Phi-3.5 ‡®®‡©Ç‡©∞ tflite ‡®µ‡®ø‡©±‡®ö ‡®¨‡®¶‡®≤‡®£‡®æ**

0. ‡®á‡®π ‡®∏‡©à‡®Ç‡®™‡®≤ Android 14+ ‡®≤‡®à ‡®π‡©à

1. Python 3.10.12 ‡®á‡©∞‡®∏‡®ü‡®æ‡®≤ ‡®ï‡®∞‡©ã

***‡®∏‡©Å‡®ù‡®æ‡®Ö:*** ‡®Ü‡®™‡®£‡©á Python ‡®µ‡®æ‡®§‡®æ‡®µ‡®∞‡®£ ‡®≤‡®à conda ‡®¶‡©Ä ‡®µ‡®∞‡®§‡©ã‡®Ç ‡®ï‡®∞‡©ã

2. Ubuntu 20.04 / 22.04 (‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á [google ai-edge-torch](https://github.com/google-ai-edge/ai-edge-torch) '‡®§‡©á ‡®ß‡®ø‡®Ü‡®® ‡®¶‡®ø‡®ì)

***‡®∏‡©Å‡®ù‡®æ‡®Ö:*** ‡®Ü‡®™‡®£‡©á ‡®µ‡®æ‡®§‡®æ‡®µ‡®∞‡®£ ‡®¨‡®£‡®æ‡®â‡®£ ‡®≤‡®à Azure Linux VM ‡®ú‡®æ‡®Ç ‡®ï‡®ø‡®∏‡©á 3rd party ‡®ï‡®≤‡®æ‡®â‡®° VM ‡®¶‡©Ä ‡®µ‡®∞‡®§‡©ã‡®Ç ‡®ï‡®∞‡©ã

3. ‡®Ü‡®™‡®£‡©á Linux ‡®¨‡©à‡®∏‡®º '‡®§‡©á ‡®ú‡®æ ‡®ï‡©á Python ‡®≤‡®æ‡®á‡®¨‡©ç‡®∞‡©á‡®∞‡©Ä ‡®á‡©∞‡®∏‡®ü‡®æ‡®≤ ‡®ï‡®∞‡©ã

```bash

git clone https://github.com/google-ai-edge/ai-edge-torch.git

cd ai-edge-torch

pip install -r requirements.txt -U 

pip install tensorflow-cpu -U

pip install -e .

```

4. Hugging face ‡®§‡©ã‡®Ç Microsoft-3.5-Instruct ‡®°‡®æ‡®ä‡®®‡®≤‡©ã‡®° ‡®ï‡®∞‡©ã

```bash

git lfs install

git clone  https://huggingface.co/microsoft/Phi-3.5-mini-instruct

```

5. Microsoft Phi-3.5 ‡®®‡©Ç‡©∞ tflite ‡®µ‡®ø‡©±‡®ö ‡®¨‡®¶‡®≤‡©ã

```bash

python ai-edge-torch/ai_edge_torch/generative/examples/phi/convert_phi3_to_tflite.py --checkpoint_path  Your Microsoft Phi-3.5-mini-instruct path --tflite_path Your Microsoft Phi-3.5-mini-instruct tflite path  --prefill_seq_len 1024 --kv_cache_max_len 1280 --quantize True

```

### **üî• Microsoft Phi-3.5 ‡®®‡©Ç‡©∞ Android Mediapipe ‡®¨‡©∞‡®°‡®≤ ‡®µ‡®ø‡©±‡®ö ‡®¨‡®¶‡®≤‡®£‡®æ**

‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®™‡®π‡®ø‡®≤‡®æ‡®Ç mediapipe ‡®á‡©∞‡®∏‡®ü‡®æ‡®≤ ‡®ï‡®∞‡©ã

```bash

pip install mediapipe

```

‡®á‡®π ‡®ï‡©ã‡®° [‡®§‡©Å‡®π‡®æ‡®°‡©á ‡®®‡©ã‡®ü‡®¨‡©Å‡©±‡®ï](../../../../../../code/09.UpdateSamples/Aug/Android/convert/convert_phi.ipynb) ‡®µ‡®ø‡©±‡®ö ‡®ö‡®≤‡®æ‡®ì

```python

import mediapipe as mp
from mediapipe.tasks.python.genai import bundler

config = bundler.BundleConfig(
    tflite_model='Your Phi-3.5 tflite model path',
    tokenizer_model='Your Phi-3.5 tokenizer model path',
    start_token='start_token',
    stop_tokens=[STOP_TOKENS],
    output_filename='Your Phi-3.5 task model path',
    enable_bytes_to_unicode_mapping=True or Flase,
)
bundler.create_bundle(config)

```

### **üî• adb push ‡®®‡®æ‡®≤ ‡®Æ‡®æ‡®°‡®≤ ‡®®‡©Ç‡©∞ ‡®Ü‡®™‡®£‡©á Android ‡®°‡®ø‡®µ‡®æ‡®à‡®∏ ‡®¶‡©á ‡®™‡®æ‡®• ‡®§‡©á ‡®≠‡©á‡®ú‡©ã**

```bash

adb shell rm -r /data/local/tmp/llm/ # Remove any previously loaded models

adb shell mkdir -p /data/local/tmp/llm/

adb push 'Your Phi-3.5 task model path' /data/local/tmp/llm/phi3.task

```

### **üî• ‡®Ü‡®™‡®£‡®æ Android ‡®ï‡©ã‡®° ‡®ö‡®≤‡®æ‡®â‡®£‡®æ**

![demo](../../../../../../translated_images/demo.8981711efb5a9cee5dcd835f66b3b31b94b4f3e527300e15a98a0d48863b9fbd.pa.png)

**‡®Ö‡®∏‡®µ‡©Ä‡®ï‡®æ‡®∞‡©ã‡®§‡®æ**:  
‡®á‡®π ‡®¶‡®∏‡®§‡®æ‡®µ‡©á‡®ú‡®º AI ‡®Ö‡®®‡©Å‡®µ‡®æ‡®¶ ‡®∏‡©á‡®µ‡®æ [Co-op Translator](https://github.com/Azure/co-op-translator) ‡®¶‡©Ä ‡®µ‡®∞‡®§‡©ã‡®Ç ‡®®‡®æ‡®≤ ‡®Ö‡®®‡©Å‡®µ‡®æ‡®¶‡®ø‡®§ ‡®ï‡©Ä‡®§‡®æ ‡®ó‡®ø‡®Ü ‡®π‡©à‡•§ ‡®ú‡®¶‡©ã‡®Ç ‡®ï‡®ø ‡®Ö‡®∏‡©Ä‡®Ç ‡®∏‡®π‡©Ä‡®§‡®æ ‡®≤‡®à ‡®ï‡©ã‡®∏‡®º‡®ø‡®∏‡®º ‡®ï‡®∞‡®¶‡©á ‡®π‡®æ‡®Ç, ‡®ï‡®ø‡®∞‡®™‡®æ ‡®ï‡®∞‡®ï‡©á ‡®ß‡®ø‡®Ü‡®® ‡®∞‡©±‡®ñ‡©ã ‡®ï‡®ø ‡®∏‡®µ‡©à‡®ö‡®æ‡®≤‡®ø‡®§ ‡®Ö‡®®‡©Å‡®µ‡®æ‡®¶‡®æ‡®Ç ‡®µ‡®ø‡©±‡®ö ‡®ó‡®≤‡®§‡©Ä‡®Ü‡®Ç ‡®ú‡®æ‡®Ç ‡®Ö‡®∏‡®•‡®ø‡®∞‡®§‡®æ‡®µ‡®æ‡®Ç ‡®π‡©ã ‡®∏‡®ï‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§ ‡®Æ‡©Ç‡®≤ ‡®¶‡®∏‡®§‡®æ‡®µ‡©á‡®ú‡®º ‡®ú‡®ø‡®∏ ‡®¶‡©Ä ‡®Æ‡©Ç‡®≤ ‡®≠‡®æ‡®∏‡®º‡®æ ‡®µ‡®ø‡©±‡®ö ‡®π‡©à, ‡®â‡®∏‡®®‡©Ç‡©∞ ‡®Ö‡®ß‡®ø‡®ï‡®æ‡®∞‡®ï ‡®∏‡®∞‡©ã‡®§ ‡®Æ‡©∞‡®®‡®ø‡®Ü ‡®ú‡®æ‡®£‡®æ ‡®ö‡®æ‡®π‡©Ä‡®¶‡®æ ‡®π‡©à‡•§ ‡®Æ‡®π‡©±‡®§‡®µ‡®™‡©Ç‡®∞‡®® ‡®ú‡®æ‡®£‡®ï‡®æ‡®∞‡©Ä ‡®≤‡®à, ‡®™‡©á‡®∏‡®º‡©á‡®µ‡®∞ ‡®Æ‡®®‡©Å‡©±‡®ñ‡©Ä ‡®Ö‡®®‡©Å‡®µ‡®æ‡®¶ ‡®¶‡©Ä ‡®∏‡®ø‡®´‡®æ‡®∞‡®∏‡®º ‡®ï‡©Ä‡®§‡©Ä ‡®ú‡®æ‡®Ç‡®¶‡©Ä ‡®π‡©à‡•§ ‡®Ö‡®∏‡©Ä‡®Ç ‡®á‡®∏ ‡®Ö‡®®‡©Å‡®µ‡®æ‡®¶ ‡®¶‡©Ä ‡®µ‡®∞‡®§‡©ã‡®Ç ‡®ï‡®∞‡®ï‡©á ‡®π‡©ã‡®£ ‡®µ‡®æ‡®≤‡©Ä‡®Ü‡®Ç ‡®ï‡®ø‡®∏‡©á ‡®µ‡©Ä ‡®ó‡®≤‡®§‡®´‡®π‡®ø‡®Æ‡©Ä‡®Ü‡®Ç ‡®ú‡®æ‡®Ç ‡®ó‡®≤‡®§ ‡®µ‡®ø‡®Ü‡®ñ‡®ø‡®Ü‡®µ‡®æ‡®Ç ‡®≤‡®à ‡®ú‡®º‡®ø‡©∞‡®Æ‡©á‡®µ‡®æ‡®∞ ‡®®‡®π‡©Ä‡®Ç ‡®π‡®æ‡®Ç‡•§