<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4164123a700fecd535d850f09506d72a",
  "translation_date": "2025-05-09T04:44:29+00:00",
  "source_file": "code/04.Finetuning/olive-ort-example/README.md",
  "language_code": "pa"
}
-->
# Olive риири╛ри▓ Phi3 риирйВрй░ рилри╛риИрии-риЯри┐риКрии риХри░рйЛ

риЗри╕ риЙрижри╛ри╣ри░рии ри╡ри┐рй▒риЪ ридрйБри╕рйАриВ Olive рижрйА ри╡ри░ридрйЛриВ риХри░риХрйЗ:

1. риЗрй▒риХ LoRA риРрибри╛рикриЯри░ риирйВрй░ рилри╛риИрии-риЯри┐риКрии риХри░рйЛ ридри╛риВ риЬрйЛ ри╡ри╛риХри╛риВ риирйВрй░ Sad, Joy, Fear, Surprise ри╡ри┐рй▒риЪ ри╡ри░риЧрйАриХрйНри░ри┐рид риХрйАридри╛ риЬри╛ ри╕риХрйЗред
1. риРрибри╛рикриЯри░ рижрйЗ ри╡риЬри╝рии риирйВрй░ римрйЗри╕ риори╛рибри▓ ри╡ри┐рй▒риЪ риори░риЬ риХри░рйЛред
1. риори╛рибри▓ риирйВрй░ `int4` ри╡ри┐рй▒риЪ Optimize риЕридрйЗ Quantize риХри░рйЛред

риЕри╕рйАриВ ридрйБри╣ри╛риирйВрй░ рижри┐риЦри╛ри╡ри╛риВриЧрйЗ риХри┐ ONNX Runtime (ORT) Generate API рижрйА ри╡ри░ридрйЛриВ риХри░риХрйЗ рилри╛риИрии-риЯри┐риКрии риХрйАридри╛ риори╛рибри▓ риХри┐ри╡рйЗриВ риЗриирилри░рй░ри╕ риХри░риири╛ ри╣рйИред

> **тЪая╕П рилри╛риИрии-риЯри┐риКриири┐рй░риЧ ри▓риИ, ридрйБри╣ри╛рибрйЗ риХрйЛри▓ риЗрй▒риХ рипрйЛриЧ GPU ри╣рйЛригри╛ риЪри╛ри╣рйАрижри╛ ри╣рйИ - риЙрижри╛ри╣ри░рии ри╡риЬрйЛриВ, A10, V100, A100ред**

## ЁЯТ╛ риЗрй░ри╕риЯри╛ри▓ риХри░рйЛ

риири╡ри╛риВ Python ри╡ри░риЪрйБриЕри▓ риЗриири╡ри╛риЗри░риириорйИриВриЯ римригри╛риУ (риЙрижри╛ри╣ри░рии ри╡риЬрйЛриВ, `conda` рижрйА ри╡ри░ридрйЛриВ риХри░риХрйЗ):

```bash
conda create -n olive-ai python=3.11
conda activate olive-ai
```

риЕриЧри▓рйЗ риХрижрио ри╡ри┐рй▒риЪ, Olive риЕридрйЗ рилри╛риИрии-риЯри┐риКриири┐рй░риЧ ри╡ри░риХрилри▓рйЛ ри▓риИ ри▓рйЛрйЬрйАриВрижрйЗ dependencies риЗрй░ри╕риЯри╛ри▓ риХри░рйЛ:

```bash
cd Phi-3CookBook/code/04.Finetuning/olive-ort-example
pip install olive-ai[gpu]
pip install -r requirements.txt
```

## ЁЯзк Olive риири╛ри▓ Phi3 риирйВрй░ рилри╛риИрии-риЯри┐риКрии риХри░рйЛ
[Olive configuration file](../../../../../code/04.Finetuning/olive-ort-example/phrase-classification.json) ри╡ри┐рй▒риЪ риЗрй▒риХ *workflow* ри╣рйИ риЬри┐ри╕ ри╡ри┐рй▒риЪ риЗри╣ *passes* ри╣рии:

Phi3 -> LoRA -> MergeAdapterWeights -> ModelBuilder

риЙрй▒риЪ-ри╕ридри░ 'ридрйЗ, риЗри╣ workflow риЗри╣ риХри░рйЗриЧри╛:

1. Phi3 риирйВрй░ 150 ри╕риЯрйИрик ри▓риИ (риЬри┐ри╣рйЬрйЗ ридрйБри╕рйАриВ римрижри▓ ри╕риХрижрйЗ ри╣рйЛ) [dataset/data-classification.json](../../../../../code/04.Finetuning/olive-ort-example/dataset/dataset-classification.json) рибрйЗриЯри╛ рижрйА ри╡ри░ридрйЛриВ риХри░риХрйЗ рилри╛риИрии-риЯри┐риКрии риХри░рйЗриЧри╛ред
1. LoRA риРрибри╛рикриЯри░ рижрйЗ ри╡риЬри╝рии римрйЗри╕ риори╛рибри▓ ри╡ри┐рй▒риЪ риори░риЬ риХри░рйЗриЧри╛ред риЗри╕ риири╛ри▓ ридрйБри╣ри╛рибрйЗ риХрйЛри▓ риЗрй▒риХ ONNX рилри╛ри░риорйИриЯ ри╡ри┐рй▒риЪ риЗриХрй▒ри▓ри╛ риори╛рибри▓ риЖри░риЯрйАрилрйИриХриЯ ри╣рйЛри╡рйЗриЧри╛ред
1. Model Builder риори╛рибри▓ риирйВрй░ ONNX ри░риириЯри╛риИрио ри▓риИ Optimize риЕридрйЗ риори╛рибри▓ риирйВрй░ `int4` ри╡ри┐рй▒риЪ Quantize риХри░рйЗриЧри╛ред

Workflow риЪри▓ри╛риЙриг ри▓риИ, риЗри╣ риЪри▓ри╛риУ:

```bash
olive run --config phrase-classification.json
```

риЬрижрйЛриВ Olive риорйБриХрй░риори▓ ри╣рйЛ риЬри╛ри╡рйЗ, ридри╛риВ ридрйБри╣ри╛рибри╛ Optimize риХрйАридри╛ ри╣рйЛриЗриЖ `int4` рилри╛риИрии-риЯри┐риКрии риХрйАридри╛ Phi3 риори╛рибри▓ риЗриерйЗ риори┐ри▓рйЗриЧри╛: `code/04.Finetuning/olive-ort-example/models/lora-merge-mb/gpu-cuda_model`.

## ЁЯзСтАНЁЯТ╗ риЖрикригрйЗ риРрик ри╡ри┐рй▒риЪ рилри╛риИрии-риЯри┐риКрии риХрйАридри╛ Phi3 риЗрй░риЯрйАриЧрйНри░рйЗриЯ риХри░рйЛ

риРрик риЪри▓ри╛риЙриг ри▓риИ:

```bash
python app/app.py --phrase "cricket is a wonderful sport!" --model-path models/lora-merge-mb/gpu-cuda_model
```

риЗри╕ рижри╛ риЬри╡ри╛рим риЗрй▒риХ ри╕ри┐ри░рилри╝ риЗрй▒риХ ри╕ри╝римриж рижри╛ ри╡ри░риЧрйАриХри░рии ри╣рйЛри╡рйЗриЧри╛ (Sad/Joy/Fear/Surprise)ред

**риЕри╕ри╡рйАриХри╛ри░рйЛрикрй▒ридри░**:  
риЗри╣ рижри╕ридри╛ри╡рйЗриЬри╝ AI риЕриирйБри╡ри╛риж ри╕рйЗри╡ри╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рижрйА ри╡ри░ридрйЛриВ риХри░риХрйЗ риЕриирйБри╡ри╛рижри┐рид риХрйАридри╛ риЧри┐риЖ ри╣рйИред риЬрижрйЛриВ риХри┐ риЕри╕рйАриВ ри╕ри╣рйАриЕрид ри▓риИ риХрйЛри╕ри╝ри┐ри╕ри╝ риХри░рижрйЗ ри╣ри╛риВ, риХри┐ри░рикри╛ риХри░риХрйЗ ризри┐риЖрии ри░рй▒риЦрйЛ риХри┐ ри╕ри╡рйИриЪри▓ри┐рид риЕриирйБри╡ри╛рижри╛риВ ри╡ри┐рй▒риЪ риЧри▓ридрйАриЖриВ риЬри╛риВ риЕри╕риори░риеридри╛ри╡ри╛риВ ри╣рйЛ ри╕риХрижрйАриЖриВ ри╣рииред риорйВри▓ рижри╕ридри╛ри╡рйЗриЬри╝ риЖрикригрйЗ риорйВри▓ ринри╛ри╕ри╝ри╛ ри╡ри┐рй▒риЪ рикрйНри░риори╛ригри┐риХ ри╕ри░рйЛрид риорй░риири┐риЖ риЬри╛ригри╛ риЪри╛ри╣рйАрижри╛ ри╣рйИред риори╣рй▒ридри╡рикрйВри░рии риЬри╛ригриХри╛ри░рйА ри▓риИ, рикрйЗри╕ри╝рйЗри╡ри░ риориирйБрй▒риЦрйА риЕриирйБри╡ри╛риж рижрйА ри╕ри┐рилри╛ри░ри╕ри╝ риХрйАридрйА риЬри╛риВрижрйА ри╣рйИред риЕри╕рйАриВ риЗри╕ риЕриирйБри╡ри╛риж рижрйА ри╡ри░ридрйЛриВ ридрйЛриВ рикрйИрижри╛ ри╣рйЛриг ри╡ри╛ри▓рйАриЖриВ риХри┐ри╕рйЗ ри╡рйА риЧри▓ридрилри╣ри┐риорйАриЖриВ риЬри╛риВ риЧри▓рид ри╡ри┐риЖриЦри┐риЖри╡ри╛риВ ри▓риИ риЬри╝ри┐рй░риорйЗри╡ри╛ри░ риири╣рйАриВ ри╣ри╛риВред