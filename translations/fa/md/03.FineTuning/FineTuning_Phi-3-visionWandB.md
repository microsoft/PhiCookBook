<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e0a07fd2a30fe2af30b1373df207a5bf",
  "translation_date": "2025-07-17T08:05:36+00:00",
  "source_file": "md/03.FineTuning/FineTuning_Phi-3-visionWandB.md",
  "language_code": "fa"
}
-->
# مرور کلی پروژه Phi-3-Vision-128K-Instruct

## مدل

مدل Phi-3-Vision-128K-Instruct، یک مدل چندرسانه‌ای سبک و پیشرفته، هسته اصلی این پروژه است. این مدل بخشی از خانواده مدل‌های Phi-3 بوده و از طول زمینه تا ۱۲۸,۰۰۰ توکن پشتیبانی می‌کند. مدل بر روی مجموعه داده‌ای متنوع آموزش دیده است که شامل داده‌های مصنوعی و وب‌سایت‌های عمومی با دقت فیلتر شده می‌شود، با تأکید بر محتوای با کیفیت بالا و نیازمند استدلال عمیق. فرایند آموزش شامل تنظیم دقیق تحت نظارت و بهینه‌سازی ترجیح مستقیم بود تا اطمینان حاصل شود که دستورالعمل‌ها به دقت رعایت شده و همچنین تدابیر ایمنی قوی اعمال شده‌اند.

## ایجاد داده نمونه به دلایل متعددی حیاتی است:

1. **آزمایش:** داده نمونه به شما امکان می‌دهد برنامه خود را در سناریوهای مختلف بدون تأثیر بر داده‌های واقعی تست کنید. این موضوع به ویژه در مراحل توسعه و آزمایش اهمیت دارد.

2. **بهینه‌سازی عملکرد:** با داده نمونه‌ای که مقیاس و پیچیدگی داده واقعی را شبیه‌سازی می‌کند، می‌توانید گلوگاه‌های عملکرد را شناسایی کرده و برنامه خود را بهینه کنید.

3. **نمونه‌سازی اولیه:** داده نمونه می‌تواند برای ایجاد نمونه‌های اولیه و ماکاپ‌ها استفاده شود که به درک نیازهای کاربران و دریافت بازخورد کمک می‌کند.

4. **تحلیل داده:** در علم داده، داده نمونه اغلب برای تحلیل اکتشافی داده، آموزش مدل و آزمایش الگوریتم‌ها استفاده می‌شود.

5. **امنیت:** استفاده از داده نمونه در محیط‌های توسعه و آزمایش می‌تواند از نشت تصادفی داده‌های حساس واقعی جلوگیری کند.

6. **یادگیری:** اگر در حال یادگیری فناوری یا ابزار جدیدی هستید، کار با داده نمونه می‌تواند راهی عملی برای به‌کارگیری آنچه آموخته‌اید باشد.

به یاد داشته باشید، کیفیت داده نمونه شما می‌تواند تأثیر قابل توجهی بر این فعالیت‌ها داشته باشد. داده نمونه باید تا حد امکان از نظر ساختار و تنوع به داده واقعی نزدیک باشد.

### ایجاد داده نمونه
[اسکریپت تولید مجموعه داده](./CreatingSampleData.md)

## مجموعه داده

یک نمونه خوب از مجموعه داده نمونه، مجموعه داده [DBQ/Burberry.Product.prices.United.States](https://huggingface.co/datasets/DBQ/Burberry.Product.prices.United.States) است (در Huggingface موجود است).  
مجموعه داده نمونه محصولات Burberry همراه با فراداده‌هایی درباره دسته‌بندی محصولات، قیمت و عنوان، شامل ۳,۰۴۰ ردیف که هر کدام نمایانگر یک محصول منحصر به فرد هستند. این مجموعه داده به ما امکان می‌دهد توانایی مدل در درک و تفسیر داده‌های بصری را آزمایش کنیم، به گونه‌ای که متن توصیفی تولید کند که جزئیات پیچیده بصری و ویژگی‌های خاص برند را به خوبی بازتاب دهد.

**توجه:** می‌توانید از هر مجموعه داده‌ای که شامل تصاویر است استفاده کنید.

## استدلال پیچیده

مدل باید بتواند تنها با دیدن تصویر، درباره قیمت‌ها و نام‌گذاری استدلال کند. این نیازمند آن است که مدل نه تنها ویژگی‌های بصری را تشخیص دهد، بلکه پیامدهای آن‌ها را از نظر ارزش محصول و برندینگ نیز درک کند. با تولید توصیف‌های متنی دقیق از تصاویر، این پروژه پتانسیل ادغام داده‌های بصری برای بهبود عملکرد و انعطاف‌پذیری مدل‌ها در کاربردهای دنیای واقعی را نشان می‌دهد.

## معماری Phi-3 Vision

معماری مدل نسخه چندرسانه‌ای Phi-3 است. این مدل هم داده‌های متنی و هم تصویری را پردازش می‌کند و این ورودی‌ها را در یک توالی یکپارچه برای درک و تولید جامع ترکیب می‌کند. مدل از لایه‌های جاسازی جداگانه برای متن و تصویر استفاده می‌کند. توکن‌های متنی به بردارهای چگال تبدیل می‌شوند، در حالی که تصاویر از طریق مدل بینایی CLIP پردازش شده و جاسازی‌های ویژگی استخراج می‌شوند. سپس این جاسازی‌های تصویری به ابعادی تبدیل می‌شوند که با ابعاد جاسازی‌های متنی مطابقت داشته باشند تا بتوانند به صورت یکپارچه ترکیب شوند.

## ادغام جاسازی‌های متن و تصویر

توکن‌های ویژه در توالی متنی نشان می‌دهند که جاسازی‌های تصویری باید کجا وارد شوند. در هنگام پردازش، این توکن‌های ویژه با جاسازی‌های تصویری متناظر جایگزین می‌شوند، که به مدل اجازه می‌دهد متن و تصویر را به عنوان یک توالی واحد مدیریت کند. پرامپت مجموعه داده ما با استفاده از توکن ویژه <|image|> به صورت زیر قالب‌بندی شده است:

```python
text = f"<|user|>\n<|image_1|>What is shown in this image?<|end|><|assistant|>\nProduct: {row['title']}, Category: {row['category3_code']}, Full Price: {row['full_price']}<|end|>"
```

## نمونه کد
- [اسکریپت آموزش Phi-3-Vision](../../../../code/03.Finetuning/Phi-3-vision-Trainingscript.py)
- [راهنمای نمونه Weights and Bias](https://wandb.ai/byyoung3/mlnews3/reports/How-to-fine-tune-Phi-3-vision-on-a-custom-dataset--Vmlldzo4MTEzMTg3)

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما در تلاش برای دقت هستیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است حاوی خطاها یا نواقصی باشند. سند اصلی به زبان بومی خود باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما مسئول هیچ گونه سوءتفاهم یا تفسیر نادرستی که از استفاده این ترجمه ناشی شود، نیستیم.