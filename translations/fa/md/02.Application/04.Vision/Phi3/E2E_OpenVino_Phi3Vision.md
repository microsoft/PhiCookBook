<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d7d7afa242a4a041ff4193546d4baf16",
  "translation_date": "2025-05-07T13:44:11+00:00",
  "source_file": "md/02.Application/04.Vision/Phi3/E2E_OpenVino_Phi3Vision.md",
  "language_code": "fa"
}
-->
این دمو نشان می‌دهد چگونه می‌توان از یک مدل pretrained برای تولید کد پایتون بر اساس یک تصویر و یک متن درخواست استفاده کرد.

[Sample Code](../../../../../../code/06.E2E/E2E_OpenVino_Phi3-vision.ipynb)

در اینجا توضیح مرحله به مرحله آمده است:

1. **وارد کردن کتابخانه‌ها و تنظیمات**:
   - کتابخانه‌ها و ماژول‌های لازم وارد می‌شوند، از جمله `requests`، `PIL` برای پردازش تصویر و `transformers` برای مدیریت مدل و پردازش.

2. **بارگذاری و نمایش تصویر**:
   - یک فایل تصویر (`demo.png`) با استفاده از کتابخانه `PIL` باز شده و نمایش داده می‌شود.

3. **تعریف متن درخواست**:
   - پیامی ایجاد می‌شود که شامل تصویر و درخواست تولید کد پایتون برای پردازش تصویر و ذخیره آن با استفاده از `plt` (matplotlib) است.

4. **بارگذاری پردازشگر**:
   - `AutoProcessor` از مدل pretrained مشخص شده در دایرکتوری `out_dir` بارگذاری می‌شود. این پردازشگر ورودی‌های متن و تصویر را مدیریت می‌کند.

5. **ایجاد متن درخواست**:
   - متد `apply_chat_template` برای قالب‌بندی پیام به صورت متنی مناسب برای مدل استفاده می‌شود.

6. **پردازش ورودی‌ها**:
   - متن درخواست و تصویر به تنسورهایی تبدیل می‌شوند که مدل قادر به فهم آن‌ها باشد.

7. **تنظیم آرگومان‌های تولید**:
   - آرگومان‌هایی برای فرایند تولید مدل تعریف می‌شوند، از جمله حداکثر تعداد توکن‌های جدید برای تولید و اینکه آیا نمونه‌گیری خروجی انجام شود یا خیر.

8. **تولید کد**:
   - مدل بر اساس ورودی‌ها و آرگومان‌های تولید، کد پایتون را تولید می‌کند. `TextStreamer` برای مدیریت خروجی استفاده می‌شود و متن درخواست و توکن‌های ویژه را نادیده می‌گیرد.

9. **خروجی**:
   - کد تولید شده چاپ می‌شود که باید شامل کد پایتون برای پردازش تصویر و ذخیره آن مطابق با متن درخواست باشد.

این دمو نشان می‌دهد چگونه می‌توان با استفاده از OpenVino و یک مدل pretrained به صورت پویا بر اساس ورودی کاربر و تصاویر کد تولید کرد.

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما برای دقت تلاش می‌کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است حاوی خطا یا نادرستی باشند. سند اصلی به زبان بومی خود باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما مسئول هیچ گونه سوءتفاهم یا تفسیر نادرستی که از استفاده از این ترجمه ناشی شود، نیستیم.