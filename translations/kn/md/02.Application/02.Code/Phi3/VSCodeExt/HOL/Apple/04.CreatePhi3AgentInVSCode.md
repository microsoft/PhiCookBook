<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "df19a4d9fe96fe7335665bede9298a62",
  "translation_date": "2025-12-21T20:17:22+00:00",
  "source_file": "md/02.Application/02.Code/Phi3/VSCodeExt/HOL/Apple/04.CreatePhi3AgentInVSCode.md",
  "language_code": "kn"
}
-->
# **ಲ್ಯಾಬ್ 3 - GitHub Copilot Chat ನಲ್ಲಿ @PHI3 ಏಜೆಂಟ್ ಅನ್ನು ರಚಿಸುವುದು**

Visual Studio Code Copilot Chat ನಲ್ಲಿ, ನೀವು @workspace ಮೂಲಕ ಸಂಪೂರ್ಣ ಪ್ರಾಜೆಕ್ಟ್ ಅನ್ನು ನಿರ್ವಹಿಸಬಹುದು. ಎಂಟರ್‌ಪ್ರೈಸ್ ಪರಿಸ್ಥಿತಿಗಳಲ್ಲಿ, 우리는 Copilot Chat ನ ಏಜೆಂಟ್ ಅನ್ನು ಮತ್ತಷ್ಟು ಸುಗಮವಾಗಿ ಕಸ್ಟಮೈಸ್ ಮಾಡಬಹುದು. 


ಹಿಂದಿನ ಲ್ಯಾಬ್‌ನಲ್ಲಿ, ನಾವು MX ಫ್ರೇಮ್ವರ್ಕ್ ಮತ್ತು ಕ್ಲೌಡ್ ಅನ್ನು ಒದಗಿಸಿ Phi3 ಏಜೆಂಟ್ ಗಾಗಿ Visual Studio Code ವಿಸ್ತರಣೆ ಪೂರ್ಣಗೊಳಿಸಿದ್ದೆವು.

![ಏಜೆಂಟ್](../../../../../../../../../translated_images/kn/vscode_agent.746efdf2e81957c2.webp)

### **1. VSCode ಅಭಿವೃದ್ಧಿ ವಿಸ್ತರಣೆ ರಚಿಸಿ**

ವಿಸ್ತರಣೆ ಪ್ರಾಜೆಕ್ಟ್ ರಚಿಸಲು ದಯವಿಟ್ಟು ಈ ಲಿಂಕ್ ಅನ್ನು ನೋಡಿ [https://code.visualstudio.com/api/get-started/your-first-extension](https://code.visualstudio.com/api/get-started/your-first-extension)

***NOTE:*** ಈ ಪ್ರಾಜೆಕ್ಟ್‌ಗೆ ತಾಂತ್ರಿಕ ಪರಿಹಾರವಾಗಿ Typescript ಮತ್ತು WebPack ಬಳಸಿ

### **2. vscode.d.ts ಸೇರಿಸಿ**

Visual Studio Code Chat API ಇನ್ನೂ code API ಗೆ ಮರ್ಜ್ ಮಾಡಲಾಗಿಲ್ಲ, ಆದರೆ ಈಗ ವಿಸ್ತರಣೆಗಳ ಮೂಲಕ ಸೇರಿಸಲಾಗಿದೆ。


vscode.d.ts ಡೌನ್ಲೋಡ್ ಮಾಡಿ [https://github.com/microsoft/vscode/blob/main/src/vscode-dts/vscode.d.ts](https://github.com/microsoft/vscode/blob/main/src/vscode-dts/vscode.d.ts)


***NOTE:*** ದಯವಿಟ್ಟು ಇದನ್ನು Visual Studio Code Insiders 1.90+ ನಲ್ಲಿ ಓಡಿಸಿ



### **3. package.json ಅನ್ನು ಅಪ್ಡೇಟ್ ಮಾಡಿ**

```json

{
  "name": "phi3ext",
  "displayName": "phi3ext",
  "description": "",
  "version": "0.0.1",
  "engines": {
    "vscode": "^1.90.0"
  },
  "categories": [
      "AI",
      "Chat"
  ],
  "activationEvents": [],
  "enabledApiProposals": [
      "chatVariableResolver"
  ],
  "main": "./dist/extension.js",
  "contributes": {
      "chatParticipants": [
          {
              "id": "chat.PHI3",
              "name": "PHI3",
              "description": "Hey! I am PHI3",
              "isSticky": true,
              "commands": [
                  {
                      "name": "gen",
                      "description": "I am PHI3, you can gen code with me"
                  },
                  {
                      "name": "img",
                      "description": "I am PHI3-vision, you can gen code from img with me"
                  }
              ]
          }
      ],
      "commands": [
          {
              "command": "PHI3.namesInEditor",
              "title": "Use PHI3 in Editor"
          }
      ]
  },  
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "webpack",
    "watch": "webpack --watch",
    "package": "webpack --mode production --devtool hidden-source-map",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "npm run compile-tests && npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/vscode": "^1.90.0",
    "@types/mocha": "^10.0.6",
    "@types/node": "18.x",
    "@typescript-eslint/eslint-plugin": "^7.11.0",
    "@typescript-eslint/parser": "^7.11.0",
    "eslint": "^8.57.0",
    "typescript": "^5.4.5",
    "ts-loader": "^9.5.1",
    "webpack": "^5.91.0",
    "webpack-cli": "^5.1.4",
    "@vscode/test-cli": "^0.0.9",
    "@vscode/test-electron": "^2.4.0"
  },
  "dependencies": {
    "@types/node-fetch": "^2.6.11",
    "node-fetch": "^3.3.2"
  }
}

```

ಟರ್ಮಿನಲ್‌ನಲ್ಲಿ **npm install** ಅನ್ನು ಚಲಾಯಿಸಿ ಮತ್ತು ನಿಮ್ಮ ವಿಸ್ತರಣೆ ಅನ್ನು ಡಿಬಗ್ ಮಾಡಿ ಪರೀಕ್ಷಿಸಬಹುದು.

***ಉದಾಹರಣೆ ಕೋಡ್ ಡೌನ್ಲೋಡ್*** [ಇಲ್ಲಿ ಕ್ಲಿಕ್ ಮಾಡಿ](../../../../../../../../../code/07.Lab/01/Apple)


### **4. src/extension.ts ಅನ್ನು ಬದಲಾಯಿಸಿ**


```ts

// 'vscode' ಮಾಡ್ಯೂಲ್‌ನಲ್ಲಿ VS Code ವಿಸ್ತರಣಾ API ಇದೆ
// ಮಾಡ್ಯೂಲ್ ಅನ್ನು ಆಮದುಮಾಡಿ ಮತ್ತು ಕೆಳಗಿನ ನಿಮ್ಮ ಕೋಡ್‌ನಲ್ಲಿ vscode ಎಂಬ ಉಪನಾಮದಿಂದ ಅದನ್ನು ಉಲ್ಲೇಖಿಸಿ
import * as vscode from 'vscode';


interface IPHI3ChatResult extends vscode.ChatResult {
    metadata: {
        command: string;
    }
}


// ನಿಮ್ಮ ವಿಸ್ತರಣೆ ಸಕ್ರಿಯಗೊಳ್ಳುವಾಗ ಈ ವಿಧಾನವನ್ನು ಕರೆ ಮಾಡಲಾಗುತ್ತದೆ
// ಆ ಕಮಾಂಡ್ ಮೊದಲ ಬಾರಿಗೆ ನಡೆಸಲಾಗುವಾಗ ನಿಮ್ಮ ವಿಸ್ತರಣೆ ಸಕ್ರಿಯವಾಗುತ್ತದೆ
export function activate(extcontext: vscode.ExtensionContext) {


	// SHEIN ಚಾಟ್ ಹ್ಯಾಂಡ್ಲರ್ ಅನ್ನು ವ್ಯಾಖ್ಯಾನಿಸಿ.
	const phi3handler: vscode.ChatRequestHandler = async (request: vscode.ChatRequest, context: vscode.ChatContext, stream: vscode.ChatResponseStream, token: vscode.CancellationToken): Promise<IPHI3ChatResult> => {

		if (request.command == 'gen') {

			const content = "Welcome to Phi-3 to gen code";

			const result = await gen(request.prompt);

			const code = result;
			
			
			stream.markdown(code)


            return { metadata: { command: 'gen' } };

		}
		if (request.command == 'img') {

			const content = "Welcome to Phi-3 vision to gen code in image";

			const prompt = request.prompt;

			if(prompt.indexOf("(IMG_URL:")>-1){

				const img_url = prompt.split("(IMG_URL:")[1].split(")")[0];
				const question = prompt.split("(IMG_URL:")[0];
				const tmp = question;

				const result = await genImage(question,img_url);
	
				const code = result;
				
				
				stream.markdown(code)
	
	
				return { metadata: { command: 'img' } };
			}
			else
			{
				var result = "Please ask question like this Your question (IMG_URL:https://example.com/image.jpg)";
				stream.markdown(result);
			}




            return { metadata: { command: 'img' } };

		}



		return { metadata: { command: '' } };

	}


	const phi3 = vscode.chat.createChatParticipant("chat.PHI3", phi3handler);

	phi3.iconPath = new vscode.ThemeIcon('sparkle');


    phi3.followupProvider = {
        provideFollowups(result: IPHI3ChatResult, context: vscode.ChatContext, token: vscode.CancellationToken) {
            return [{
                prompt: 'let us code with Phi-3 Family',
                label: vscode.l10n.t('Dev with Phi-3 Family'),
                command: 'help'
            } satisfies vscode.ChatFollowup];
        }
    };

	extcontext.subscriptions.push(phi3);
}



interface GenCode {
	prompt: string;
}

interface ImgGenCodeResponse {
	output: string;
}


interface GenCodeResponse {
	result: string;
}

async function gen(prompt: string) {

	const postData: GenCode = {
		prompt: prompt
	};
	const response = await fetch('http://localhost:8080/score', {
		method: 'POST',
		body: JSON.stringify(postData),
		headers: { 'Content-Type': 'application/json' }
	});
	const post = await response.json();
	const resultResponse = post as GenCodeResponse;
	return resultResponse.result;
}

async function genImage(prompt: string, img_url: string) {

	// const postData: GenCode = {
	// 	question: prompt
	// };
	const response = await fetch('Your Phi-3 Endpoint', {
		method: 'POST',
		body: JSON.stringify({
			"input_data":{
			  "input_string":[
				{
				  "role":"user",
				  "content":[ 
					{
					  "type": "text",
					  "text": prompt
					},
					{
						"type": "image_url",
						"image_url": {
						  "url": img_url
						}
					}
				  ]
				}
			  ],
			  "parameters":{
					"temperature": 0.6,
					"top_p": 0.9,
					"do_sample": false,
					"max_new_tokens": 2048
			  }
			}
		}),
		headers: { 'Content-Type': 'application/json', 'Authorization' : 'Bearer Your Phi-3-Vision Endpoint Key', 'azureml-model-deployment': 'Your Phi-3-Vision Deployment Name' }
	});
	const post = await response.json();
	const resultResponse = post as ImgGenCodeResponse;
	return resultResponse.output;
}

// ನಿಮ್ಮ ವಿಸ್ತರಣೆ ನಿಷ್ಕ್ರೀಯಗೊಳ್ಳುವಾಗ ಈ ವಿಧಾನವನ್ನು ಕರೆ ಮಾಡಲಾಗುತ್ತದೆ
export function deactivate() {}




```

ಆಭಿನಂದನೆ ! ನೀವು ಎಲ್ಲಾ ಲ್ಯಾಬ್‌ಗಳನ್ನು ಪೂರ್ಣಗೊಳಿಸಿದ್ದೀರಿ. ಇದು ನಿಮಗೆ Phi-3 ಕುಟುಂಬವನ್ನು ಮತ್ತು GitHub Copilot Chat ಅನ್ನು ಹೇಗೆ ಬಳಸುವುದು ಎಂಬುದನ್ನು ಅರ್ಥಮಾಡಿಕೊಳ್ಳಲು ಸಹಾಯವಾಗುತ್ತದೆ ಎಂಬ ನಿರೀಕ್ಷೆಯಿದೆ.

ನೀವು ಪ್ರಯತ್ನಿಸಬಹುದು ***@PHI3 /gen*** 

![ಕೋಡ್](../../../../../../../../../translated_images/kn/result_code.ae0d053b45202798.webp)

ನೀವು ಪ್ರಯತ್ನಿಸಬಹುದು ***@PHI3 /img*** 

![ಚಿತ್ರ](../../../../../../../../../translated_images/kn/result_img.436817a2bb3a34cf.webp)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
ಡಿಸ್ಕ್ಲೇಮರ್:
ಈ ದಾಖಲೆ AI ಭಾಷಾಂತರ ಸೇವೆಯಾದ Co‑op Translator (https://github.com/Azure/co-op-translator) ಬಳಸಿ ಭಾಷಾಂತರಿಸಲಾಗಿದೆ. ನಾವು ನಿಖರತೆಯತ್ತ ಪ್ರಯತ್ನಿಸಿದರೂ, ಸ್ವಯಂಚಾಲಿತ ಭಾಷಾಂತರಗಳಲ್ಲಿ ತಪ್ಪುಗಳು ಅಥವಾ ಅಸ್ಪಷ್ಟತೆಗಳು ಇರಬಹುದನ್ನು ದಯವಿಟ್ಟು ಗಮನಿಸಿ. ಮೂಲ ಭಾಷೆಯಲ್ಲಿರುವ ಮೂಲ ದಾಖಲೆವೇ ಅಧಿಕೃತ ಮೂಲವೆಂದು ಪರಿಗಣಿಸಬೇಕು. ಗಂಭೀರ ಮಾಹಿತಿಗಾಗಿ ವೃತ್ತಿಪರ ಮಾನವ ಭಾಷಾಂತರವನ್ನು ಶಿಫಾರಸು ಮಾಡಲಾಗುತ್ತದೆ. ಈ ಭಾಷಾಂತರವನ್ನು ಬಳಸುವುದರಿಂದ ಉಂಟಾಗುವ ಯಾವುದೇ ಅಸಮಂಜಸತೆಗಳು ಅಥವಾ ತಪ್ಪು ವಿವರಣೆಗಳಿಗಾಗಿ ನಾವು ಜವಾಬ್ದಾರಿಯಲ್ಲ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->