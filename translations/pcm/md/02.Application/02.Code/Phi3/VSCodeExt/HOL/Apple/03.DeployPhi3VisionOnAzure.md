# **Lab 3 - Deploy Phi-3-vision on Azure Machine Learning Service**

We go use NPU to finish the production deployment of local code, and after dat we wan add PHI-3-VISION inside am make e fit turn pictures to code.

For dis introduction, we fit quickly build a Model As Service Phi-3 Vision service for Azure Machine Learning Service.

***Note***： Phi-3 Vision need strong compute power to generate content faster. We need cloud compute power to help us achieve dis.


### **1. Create Azure Machine Learning Service**

We need create an Azure Machine Learning Service for the Azure Portal. If you wan learn how, abeg visit dis link [https://learn.microsoft.com/azure/machine-learning/quickstart-create-resources?view=azureml-api-2](https://learn.microsoft.com/azure/machine-learning/quickstart-create-resources?view=azureml-api-2)


### **2. Choose Phi-3 Vision in Azure Machine Learning Service**

![Catalog](../../../../../../../../../translated_images/vison_catalog.f979823d5bde8aef.pcm.png)


### **3. Deploy Phi-3-Vision in Azure**


![Deploy](../../../../../../../../../translated_images/vision_deploy.a8114ccd849a9572.pcm.png)


### **4. Test Endpoint in Postman**


![Test](../../../../../../../../../translated_images/vision_test.0b9c1b1d414131d0.pcm.png)


***Note***

1. The parameters wey you go send must include Authorization, azureml-model-deployment, and Content-Type. You go need check the deployment information to get dem.

2. To send parameters, Phi-3-Vision need make you send an image link. Abeg refer to the GPT-4-Vision method to send parameters, for example

```json

{
  "input_data":{
    "input_string":[
      {
        "role":"user",
        "content":[ 
          {
            "type": "text",
            "text": "You are a Python coding assistant.Please create Python code for image "
          },
          {
              "type": "image_url",
              "image_url": {
                "url": "https://ajaytech.co/wp-content/uploads/2019/09/index.png"
              }
          }
        ]
      }
    ],
    "parameters":{
          "temperature": 0.6,
          "top_p": 0.9,
          "do_sample": false,
          "max_new_tokens": 2048
    }
  }
}

```

3. Call **/score** using the Post method

**Congratulations** ！You don finish the quick PHI-3-VISION deployment and don try how to use pictures to generate code. Next, we fit build applications wey combine NPUs and cloud.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
Disclaimer:
This document dem translate am with AI translation service wey dem dey call Co‑op Translator (https://github.com/Azure/co-op-translator). Even though we dey try make am correct, abeg note say automatic translation fit get mistakes or no too correct. The original document for im original language na the one wey you suppose take as the authority. If na important information, make you use professional human translator. We no dey responsible for any misunderstanding or wrong interpretation wey fit come from this translation.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->