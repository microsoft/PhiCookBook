## Phi perekond GitHubi mudelites

Tere tulemast [GitHubi mudelitesse](https://github.com/marketplace/models)! Oleme kõik valmis seadnud, et saaksite uurida Azure AI-s hostitud AI-mudeleid.

![GitHubModel](../../../../../imgs/01/02/02/GitHub_ModelCatalog.png)

Lisateavet GitHubi mudelites saadaval olevate mudelite kohta leiate [GitHubi mudelite turuplatsilt](https://github.com/marketplace/models).

## Saadaval olevad mudelid

Igal mudelil on oma mänguväljak ja näidiskood.

![Phi-4Model_Github](../../../../../imgs/01/02/02/GitHub_ModelPlay.png)

### Phi perekond GitHubi mudelikataloogis

- [Phi-4](https://github.com/marketplace/models/azureml/Phi-4)

- [Phi-3.5-MoE instruct (128k)](https://github.com/marketplace/models/azureml/Phi-3-5-MoE-instruct)

- [Phi-3.5-vision instruct (128k)](https://github.com/marketplace/models/azureml/Phi-3-5-vision-instruct)

- [Phi-3.5-mini instruct (128k)](https://github.com/marketplace/models/azureml/Phi-3-5-mini-instruct)

- [Phi-3-Medium-128k-Instruct](https://github.com/marketplace/models/azureml/Phi-3-medium-128k-instruct)

- [Phi-3-medium-4k-instruct](https://github.com/marketplace/models/azureml/Phi-3-medium-4k-instruct)

- [Phi-3-mini-128k-instruct](https://github.com/marketplace/models/azureml/Phi-3-mini-128k-instruct)

- [Phi-3-mini-4k-instruct](https://github.com/marketplace/models/azureml/Phi-3-mini-4k-instruct)

- [Phi-3-small-128k-instruct](https://github.com/marketplace/models/azureml/Phi-3-small-128k-instruct)

- [Phi-3-small-8k-instruct](https://github.com/marketplace/models/azureml/Phi-3-small-8k-instruct)

## Alustamine

Mõned põhinäited on valmis käivitamiseks. Leiate need näidiste kataloogist. Kui soovite kohe alustada oma lemmikprogrammeermiskeelega, leiate näited järgmistest keeltest:

- Python
- JavaScript
- C#
- Java
- cURL

Samuti on olemas spetsiaalne Codespaces keskkond näidiste ja mudelite käitamiseks.

![Alustamine](../../../../../imgs/01/02/02/GitHub_ModelGetStarted.png)

## Näidiskood

Allpool on näidiskoodilõigud mõne kasutusjuhtumi jaoks. Lisateabe saamiseks Azure AI Inference SDK kohta vaadake täielikku dokumentatsiooni ja näidiseid.

## Seadistamine

1. Looge isiklik juurdepääsutoken  
Te ei pea tokenile mingeid õigusi andma. Pange tähele, et token saadetakse Microsofti teenusele.

Et kasutada allolevaid koodilõike, looge keskkonnamuutuja, et määrata oma token kliendikoodi võtmena.

Kui kasutate bash'i:  
```
export GITHUB_TOKEN="<your-github-token-goes-here>"
```
Kui kasutate PowerShelli:  

```
$Env:GITHUB_TOKEN="<your-github-token-goes-here>"
```
Kui kasutate Windowsi käsuviipa:  

```
set GITHUB_TOKEN=<your-github-token-goes-here>
```

## Python näide

### Paigaldage sõltuvused  
Paigaldage Azure AI Inference SDK pip-i abil (Nõuded: Python >=3.8):  

```
pip install azure-ai-inference
```
### Käivitage lihtne näide  

See näide demonstreerib lihtsat API-kõnet vestluse lõpetamiseks. See kasutab GitHubi AI mudeli järelduspunkti ja teie GitHubi tokenit. Kõne on sünkroonne.  

```python
import os
from azure.ai.inference import ChatCompletionsClient
from azure.ai.inference.models import SystemMessage, UserMessage
from azure.core.credentials import AzureKeyCredential

endpoint = "https://models.inference.ai.azure.com"
model_name = "Phi-4"
token = os.environ["GITHUB_TOKEN"]

client = ChatCompletionsClient(
    endpoint=endpoint,
    credential=AzureKeyCredential(token),
)

response = client.complete(
    messages=[
        UserMessage(content="I have $20,000 in my savings account, where I receive a 4% profit per year and payments twice a year. Can you please tell me how long it will take for me to become a millionaire? Also, can you please explain the math step by step as if you were explaining it to an uneducated person?"),
    ],
    temperature=0.4,
    top_p=1.0,
    max_tokens=2048,
    model=model_name
)

print(response.choices[0].message.content)
```

### Käivitage mitme pöördega vestlus  

See näide demonstreerib mitme pöördega vestlust vestluse lõpetamise API-ga. Kui kasutate mudelit vestlusrakenduses, peate haldama vestluse ajalugu ja saatma mudelile viimased sõnumid.  

```
import os
from azure.ai.inference import ChatCompletionsClient
from azure.ai.inference.models import AssistantMessage, SystemMessage, UserMessage
from azure.core.credentials import AzureKeyCredential

token = os.environ["GITHUB_TOKEN"]
endpoint = "https://models.inference.ai.azure.com"
# Replace Model_Name
model_name = "Phi-4"

client = ChatCompletionsClient(
    endpoint=endpoint,
    credential=AzureKeyCredential(token),
)

messages = [
    SystemMessage(content="You are a helpful assistant."),
    UserMessage(content="What is the capital of France?"),
    AssistantMessage(content="The capital of France is Paris."),
    UserMessage(content="What about Spain?"),
]

response = client.complete(messages=messages, model=model_name)

print(response.choices[0].message.content)
```

### Väljundi voogesitus  

Parema kasutajakogemuse saavutamiseks soovite mudeli vastuse voogesitada, et esimene token ilmuks varakult ja väldiksite pikkade vastuste ootamist.  

```
import os
from azure.ai.inference import ChatCompletionsClient
from azure.ai.inference.models import SystemMessage, UserMessage
from azure.core.credentials import AzureKeyCredential

token = os.environ["GITHUB_TOKEN"]
endpoint = "https://models.inference.ai.azure.com"
# Replace Model_Name
model_name = "Phi-4"

client = ChatCompletionsClient(
    endpoint=endpoint,
    credential=AzureKeyCredential(token),
)

response = client.complete(
    stream=True,
    messages=[
        SystemMessage(content="You are a helpful assistant."),
        UserMessage(content="Give me 5 good reasons why I should exercise every day."),
    ],
    model=model_name,
)

for update in response:
    if update.choices:
        print(update.choices[0].delta.content or "", end="")

client.close()
```

## TASUTA kasutamine ja GitHubi mudelite kiiruse piirangud

![Mudelite kataloog](../../../../../imgs/01/02/02/GitHub_Model.png)

[Kiiruse piirangud mänguväljakule ja tasuta API kasutamisele](https://docs.github.com/en/github-models/prototyping-with-ai-models#rate-limits) on mõeldud mudelitega katsetamiseks ja AI-rakenduse prototüüpimiseks. Kui soovite kasutada mudeleid piirangutest kaugemale ja viia oma rakendus skaleeritavaks, peate Azure'i kontolt ressursse hankima ja sealt autentima, mitte kasutama GitHubi isiklikku juurdepääsutokenit. Te ei pea oma koodis midagi muud muutma. Kasutage seda linki, et avastada, kuidas ületada tasuta taseme piiranguid Azure AI-s.

### Avalikustused

Pidage meeles, et mudeliga suheldes katsetate AI-ga, seega on sisuvigu võimalik.

Funktsioonile kehtivad mitmesugused piirangud (sealhulgas päringud minutis, päringud päevas, tokenid päringu kohta ja samaaegsed päringud) ning see ei ole mõeldud tootmiskasutuseks.

GitHubi mudelid kasutavad Azure AI sisuturvalisust. Neid filtreid ei saa GitHubi mudelite kogemuse osana välja lülitada. Kui otsustate mudeleid kasutada tasulise teenuse kaudu, konfigureerige oma sisufiltrid vastavalt oma nõuetele.

See teenus kuulub GitHubi eellase tingimuste alla.

---

**Lahtiütlus**:  
See dokument on tõlgitud AI tõlketeenuse [Co-op Translator](https://github.com/Azure/co-op-translator) abil. Kuigi püüame tagada täpsust, palume arvestada, et automaatsed tõlked võivad sisaldada vigu või ebatäpsusi. Algne dokument selle algses keeles tuleks pidada autoriteetseks allikaks. Olulise teabe puhul soovitame kasutada professionaalset inimtõlget. Me ei vastuta selle tõlke kasutamisest tulenevate arusaamatuste või valesti tõlgenduste eest.