<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4951d458c0b60c02cd1e751b40903877",
  "translation_date": "2025-10-11T12:28:14+00:00",
  "source_file": "md/01.Introduction/02/05.AITK.md",
  "language_code": "et"
}
-->
# Phi perekond AITK-s

[AI Toolkit for VS Code](https://marketplace.visualstudio.com/items?itemName=ms-windows-ai-studio.windows-ai-studio) lihtsustab generatiivsete AI-rakenduste arendamist, tuues kokku tipptasemel AI arendustööriistad ja mudelid Azure AI Foundry kataloogist ning teistest kataloogidest, nagu Hugging Face. Saate sirvida AI mudelite kataloogi, mida toetavad GitHub Models ja Azure AI Foundry Model Catalogs, laadida need alla kohalikult või kaugelt, peenhäälestada, testida ja kasutada neid oma rakenduses.

AI Toolkit Preview töötab kohalikult. Kohalik järeldamine või peenhäälestamine sõltub valitud mudelist; teil võib olla vaja GPU-d, näiteks NVIDIA CUDA GPU-d. GitHubi mudeleid saab AITK-ga otse käivitada.

## Alustamine

[Lisateave Windowsi alamsüsteemi Linuxi jaoks installimise kohta](https://learn.microsoft.com/windows/wsl/install?WT.mc_id=aiml-137032-kinfeylo)

ja [vaikimisi distributsiooni muutmine](https://learn.microsoft.com/windows/wsl/install#change-the-default-linux-distribution-installed).

[AI Toolkit GitHubi repo](https://github.com/microsoft/vscode-ai-toolkit/)

- Windows, Linux, macOS
  
- Peenhäälestamiseks nii Windowsis kui Linuxis vajate Nvidia GPU-d. Lisaks vajab **Windows** Linuxi alamsüsteemi Ubuntu distributsiooniga 18.4 või uuem. [Lisateave Windowsi alamsüsteemi Linuxi jaoks installimise kohta](https://learn.microsoft.com/windows/wsl/install) ja [vaikimisi distributsiooni muutmine](https://learn.microsoft.com/windows/wsl/install#change-the-default-linux-distribution-installed).

### AI Toolkiti installimine

AI Toolkit on saadaval [Visual Studio Code'i laiendusena](https://code.visualstudio.com/docs/setup/additional-components#_vs-code-extensions), seega peate esmalt installima [VS Code](https://code.visualstudio.com/docs/setup/windows?WT.mc_id=aiml-137032-kinfeylo) ja laadima AI Toolkiti alla [VS Marketplace'ist](https://marketplace.visualstudio.com/items?itemName=ms-windows-ai-studio.windows-ai-studio). 
[AI Toolkit on saadaval Visual Studio Marketplace'is](https://marketplace.visualstudio.com/items?itemName=ms-windows-ai-studio.windows-ai-studio) ja seda saab installida nagu iga teist VS Code'i laiendust.

Kui te pole VS Code'i laienduste installimisega tuttav, järgige neid samme:

### Sisselogimine

1. Valige VS Code'i tegevusribal **Extensions**.
2. Laienduste otsinguribal sisestage "AI Toolkit".
3. Valige "AI Toolkit for Visual Studio Code".
4. Valige **Install**.

Nüüd olete valmis laiendust kasutama!

Teilt küsitakse GitHubi sisselogimist, seega klõpsake "Allow", et jätkata. Teid suunatakse GitHubi sisselogimislehele.

Palun logige sisse ja järgige protsessi samme. Pärast edukat lõpetamist suunatakse teid tagasi VS Code'i.

Kui laiendus on installitud, ilmub AI Toolkiti ikoon teie tegevusribale.

Vaatame saadaval olevaid toiminguid!

### Saadaval olevad toimingud

AI Toolkiti esmane külgriba on jaotatud järgmiselt:

- **Models**
- **Resources**
- **Playground**  
- **Fine-tuning**
- **Evaluation**

Need on saadaval Resources jaotises. Alustamiseks valige **Model Catalog**.

### Mudeli allalaadimine kataloogist

Kui käivitate AI Toolkiti VS Code'i külgribalt, saate valida järgmiste valikute hulgast:

![AI Toolkiti mudelikataloog](../../../../../imgs/01/02/05/AItoolkitmodel_catalog.png)

- Leidke toetatud mudel **Model Catalog**-ist ja laadige see alla kohalikult.
- Testige mudeli järeldamist **Model Playground**-is.
- Peenhäälestage mudelit kohalikult või kaugelt **Model Fine-tuning**-is.
- Paigutage peenhäälestatud mudelid pilve AI Toolkiti käsupaleti kaudu.
- Hindamismudelid.

> [!NOTE]
>
> **GPU vs CPU**
>
> Näete, et mudelikaartidel on näidatud mudeli suurus, platvorm ja kiirendi tüüp (CPU, GPU). Optimeeritud jõudluse jaoks **Windowsi seadmetel, millel on vähemalt üks GPU**, valige mudeliversioonid, mis on suunatud ainult Windowsile.
>
> See tagab, et teil on mudel, mis on optimeeritud DirectML kiirendi jaoks.
>
> Mudeli nimed on vormingus
>
> - `{model_name}-{accelerator}-{quantization}-{format}`.
>
> Kontrollimaks, kas teie Windowsi seadmel on GPU, avage **Task Manager** ja valige **Performance** vahekaart. Kui teil on GPU(d), kuvatakse need nimedega nagu "GPU 0" või "GPU 1".

### Mudeli käivitamine Playground-is

Kui kõik parameetrid on seadistatud, klõpsake **Generate Project**.

Kui teie mudel on alla laaditud, valige kataloogi mudelikaardil **Load in Playground**:

- Algatage mudeli allalaadimine.
- Installige kõik eeldused ja sõltuvused.
- Looge VS Code'i tööruum.

![Mudeli laadimine Playground-i](../../../../../imgs/01/02/05/AItoolkitload_model_into_playground.png)

### REST API kasutamine oma rakenduses 

AI Toolkit sisaldab kohalikku REST API veebiserverit **pordil 5272**, mis kasutab [OpenAI chat completions formaati](https://platform.openai.com/docs/api-reference/chat/create). 

See võimaldab teil testida oma rakendust kohalikult, ilma et peaksite tuginema pilve AI mudelite teenusele. Näiteks järgmine JSON-fail näitab, kuidas konfigureerida päringu keha:

```json
{
    "model": "Phi-4",
    "messages": [
        {
            "role": "user",
            "content": "what is the golden ratio?"
        }
    ],
    "temperature": 0.7,
    "top_p": 1,
    "top_k": 10,
    "max_tokens": 100,
    "stream": true
}
```

REST API-d saate testida näiteks [Postman](https://www.postman.com/) või CURL (Client URL) utiliidi abil:

```bash
curl -vX POST http://127.0.0.1:5272/v1/chat/completions -H 'Content-Type: application/json' -d @body.json
```

### OpenAI klienditeegi kasutamine Pythonis

```python
from openai import OpenAI

client = OpenAI(
    base_url="http://127.0.0.1:5272/v1/", 
    api_key="x" # required for the API but not used
)

chat_completion = client.chat.completions.create(
    messages=[
        {
            "role": "user",
            "content": "what is the golden ratio?",
        }
    ],
    model="Phi-4",
)

print(chat_completion.choices[0].message.content)
```

### Azure OpenAI klienditeegi kasutamine .NET-is

Lisage [Azure OpenAI klienditeek .NET-i jaoks](https://www.nuget.org/packages/Azure.AI.OpenAI/) oma projekti, kasutades NuGeti:

```bash
dotnet add {project_name} package Azure.AI.OpenAI --version 1.0.0-beta.17
```

Lisage oma projekti C#-fail nimega **OverridePolicy.cs** ja kleepige järgmine kood:

```csharp
// OverridePolicy.cs
using Azure.Core.Pipeline;
using Azure.Core;

internal partial class OverrideRequestUriPolicy(Uri overrideUri)
    : HttpPipelineSynchronousPolicy
{
    private readonly Uri _overrideUri = overrideUri;

    public override void OnSendingRequest(HttpMessage message)
    {
        message.Request.Uri.Reset(_overrideUri);
    }
}
```

Seejärel kleepige järgmine kood oma **Program.cs** faili:

```csharp
// Program.cs
using Azure.AI.OpenAI;

Uri localhostUri = new("http://localhost:5272/v1/chat/completions");

OpenAIClientOptions clientOptions = new();
clientOptions.AddPolicy(
    new OverrideRequestUriPolicy(localhostUri),
    Azure.Core.HttpPipelinePosition.BeforeTransport);
OpenAIClient client = new(openAIApiKey: "unused", clientOptions);

ChatCompletionsOptions options = new()
{
    DeploymentName = "Phi-4",
    Messages =
    {
        new ChatRequestSystemMessage("You are a helpful assistant. Be brief and succinct."),
        new ChatRequestUserMessage("What is the golden ratio?"),
    }
};

StreamingResponse<StreamingChatCompletionsUpdate> streamingChatResponse
    = await client.GetChatCompletionsStreamingAsync(options);

await foreach (StreamingChatCompletionsUpdate chatChunk in streamingChatResponse)
{
    Console.Write(chatChunk.ContentUpdate);
}
```


## Peenhäälestamine AI Toolkitiga

- Alustage mudelite avastamise ja Playground-iga.
- Mudelite peenhäälestamine ja järeldamine, kasutades kohalikke arvutusressursse.
- Kaugpeenhäälestamine ja järeldamine, kasutades Azure'i ressursse.

[Peenhäälestamine AI Toolkitiga](../../03.FineTuning/Finetuning_VSCodeaitoolkit.md)

## AI Toolkiti KKK ressursid

Palun vaadake meie [KKK lehte](https://github.com/microsoft/vscode-ai-toolkit/blob/main/archive/QA.md), et leida kõige levinumad probleemid ja lahendused.

---

**Lahtiütlus**:  
See dokument on tõlgitud, kasutades AI tõlketeenust [Co-op Translator](https://github.com/Azure/co-op-translator). Kuigi püüame tagada täpsust, palun arvestage, et automaatsed tõlked võivad sisaldada vigu või ebatäpsusi. Algne dokument selle algkeeles tuleks lugeda autoriteetseks allikaks. Olulise teabe puhul on soovitatav kasutada professionaalset inimtõlget. Me ei vastuta selle tõlke kasutamisest tulenevate arusaamatuste või valede tõlgenduste eest.