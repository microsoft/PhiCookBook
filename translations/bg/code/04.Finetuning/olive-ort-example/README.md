<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4164123a700fecd535d850f09506d72a",
  "translation_date": "2025-05-09T04:47:21+00:00",
  "source_file": "code/04.Finetuning/olive-ort-example/README.md",
  "language_code": "bg"
}
-->
# –§–∏–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Phi3 —Å Olive

–í —Ç–æ–∑–∏ –ø—Ä–∏–º–µ—Ä —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ Olive, –∑–∞ –¥–∞:

1. –§–∏–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ LoRA –∞–¥–∞–ø—Ç–µ—Ä –∑–∞ –∫–ª–∞—Å–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ—Ä–∞–∑–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢—ä–≥–∞, –†–∞–¥–æ—Å—Ç, –°—Ç—Ä–∞—Ö, –ò–∑–Ω–µ–Ω–∞–¥–∞.
1. –û–±–µ–¥–∏–Ω–∏—Ç–µ —Ç–µ–≥–ª–∞—Ç–∞ –Ω–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞ —Å –±–∞–∑–æ–≤–∏—è –º–æ–¥–µ–ª.
1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞—Ç–µ –∏ –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–∞—Ç–µ –º–æ–¥–µ–ª–∞ –≤ `int4`.

–©–µ –≤–∏ –ø–æ–∫–∞–∂–µ–º –∏ –∫–∞–∫ –¥–∞ –∏–∑–≤—ä—Ä—à–∏—Ç–µ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —Å —Ñ–∏–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ ONNX Runtime (ORT) Generate API.

> **‚ö†Ô∏è –ó–∞ —Ñ–∏–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —â–µ –≤–∏ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø–æ–¥—Ö–æ–¥—è—â GPU - –Ω–∞–ø—Ä–∏–º–µ—Ä A10, V100, A100.**

## üíæ –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è

–°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤ –≤–∏—Ä—Ç—É–∞–ª–µ–Ω Python –µ–Ω–≤–∞–π—Ä—ä–Ω–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä —Å `conda`):

```bash
conda create -n olive-ai python=3.11
conda activate olive-ai
```

–°–ª–µ–¥ —Ç–æ–≤–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ Olive –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ –∑–∞ —Ñ–∏–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

```bash
cd Phi-3CookBook/code/04.Finetuning/olive-ort-example
pip install olive-ai[gpu]
pip install -r requirements.txt
```

## üß™ –§–∏–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Phi3 —Å Olive
[Olive –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏—è—Ç —Ñ–∞–π–ª](../../../../../code/04.Finetuning/olive-ort-example/phrase-classification.json) —Å—ä–¥—ä—Ä–∂–∞ *workflow* —Å—ä—Å —Å–ª–µ–¥–Ω–∏—Ç–µ *–µ—Ç–∞–ø–∏*:

Phi3 -> LoRA -> MergeAdapterWeights -> ModelBuilder

–ù–∞–∫—Ä–∞—Ç–∫–æ, —Ç–æ–∑–∏ workflow —â–µ:

1. –§–∏–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏ Phi3 (–∑–∞ 150 —Å—Ç—ä–ø–∫–∏, –∫–æ–∏—Ç–æ –º–æ–∂–µ—Ç–µ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ) —Å –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç [dataset/data-classification.json](../../../../../code/04.Finetuning/olive-ort-example/dataset/dataset-classification.json).
1. –û–±–µ–¥–∏–Ω–∏ —Ç–µ–≥–ª–∞—Ç–∞ –Ω–∞ LoRA –∞–¥–∞–ø—Ç–µ—Ä–∞ —Å –±–∞–∑–æ–≤–∏—è –º–æ–¥–µ–ª, –∫–∞—Ç–æ –ø–æ —Ç–æ–∑–∏ –Ω–∞—á–∏–Ω –ø–æ–ª—É—á–∏—Ç–µ –µ–¥–∏–Ω –º–æ–¥–µ–ª –≤ ONNX —Ñ–æ—Ä–º–∞—Ç.
1. ModelBuilder —â–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞ –º–æ–¥–µ–ª–∞ –∑–∞ ONNX runtime *–∏* —â–µ –≥–æ –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–∞ –≤ `int4`.

–ó–∞ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ workflow-–∞, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ:

```bash
olive run --config phrase-classification.json
```

–°–ª–µ–¥ –∫–∞—Ç–æ Olive –ø—Ä–∏–∫–ª—é—á–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏—è—Ç –∏ —Ñ–∏–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–¥–µ–ª Phi3 –≤ `int4` —â–µ –±—ä–¥–µ –Ω–∞–ª–∏—á–µ–Ω –≤: `code/04.Finetuning/olive-ort-example/models/lora-merge-mb/gpu-cuda_model`.

## üßë‚Äçüíª –ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ–∏–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è Phi3 –≤—ä–≤ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ó–∞ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:

```bash
python app/app.py --phrase "cricket is a wonderful sport!" --model-path models/lora-merge-mb/gpu-cuda_model
```

–û—Ç–≥–æ–≤–æ—Ä—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞ –¥—É–º–∞, –∫–ª–∞—Å–∏—Ñ–∏—Ü–∏—Ä–∞—â–∞ —Ñ—Ä–∞–∑–∞—Ç–∞ (Sad/Joy/Fear/Surprise).

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI –ø—Ä–µ–≤–æ–¥–∞—á–µ—Å–∫–∞ —É—Å–ª—É–≥–∞ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–≥–∞—Ç –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è —Ä–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω —á–æ–≤–µ—à–∫–∏ –ø—Ä–µ–≤–æ–¥. –ù–∏–µ –Ω–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ —Ç—ä–ª–∫—É–≤–∞–Ω–∏—è, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.