# **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü—ñ—è Phi-3.5 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Intel OpenVINO**

Intel ‚Äî —Ü–µ –Ω–∞–π—Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ—à–∏–π –≤–∏—Ä–æ–±–Ω–∏–∫ –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ–≤ –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –ó —Ä–æ–∑–≤–∏—Ç–∫–æ–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è —Ç–∞ –≥–ª–∏–±–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è Intel —Ç–∞–∫–æ–∂ –ø—Ä–∏—î–¥–Ω–∞–ª–∞—Å—è –¥–æ –∑–º–∞–≥–∞–Ω–Ω—è –∑–∞ –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –®–Ü. –î–ª—è —ñ–Ω—Ñ–µ—Ä–µ–Ω—Å—É –º–æ–¥–µ–ª–µ–π Intel –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –Ω–µ –ª–∏—à–µ GPU —Ç–∞ CPU, –∞ –π NPU.

–ú–∏ –ø—Ä–∞–≥–Ω–µ–º–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ —Å—ñ–º–µ–π—Å—Ç–≤–æ Phi-3.x –Ω–∞ –∫—ñ–Ω—Ü–µ–≤–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö, —Å–ø–æ–¥—ñ–≤–∞—é—á–∏—Å—å —Å—Ç–∞—Ç–∏ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–æ—é —á–∞—Å—Ç–∏–Ω–æ—é AI PC —Ç–∞ Copilot PC. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –Ω–∞ –∫—ñ–Ω—Ü–µ–≤–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ —Ä—ñ–∑–Ω–∏—Ö –≤–∏—Ä–æ–±–Ω–∏–∫—ñ–≤ –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è. –¶–µ–π —Ä–æ–∑–¥—ñ–ª –∑–æ—Å–µ—Ä–µ–¥–∂–µ–Ω–∏–π –Ω–∞ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è Intel OpenVINO —è–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –¥–ª—è –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü—ñ—ó –º–æ–¥–µ–ª–µ–π.

## **–©–æ —Ç–∞–∫–µ OpenVINO**

OpenVINO ‚Äî —Ü–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –Ω–∞–±—ñ—Ä —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –º–æ–¥–µ–ª–µ–π –≥–ª–∏–±–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è –≤—ñ–¥ —Ö–º–∞—Ä–∏ –¥–æ –ø–µ—Ä–∏—Ñ–µ—Ä—ñ—ó. –í—ñ–Ω –ø—Ä–∏—Å–∫–æ—Ä—é—î —ñ–Ω—Ñ–µ—Ä–µ–Ω—Å –≥–ª–∏–±–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è —É —Ä—ñ–∑–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —Ç–∞–∫–∏—Ö —è–∫ –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω–∏–π –®–Ü, –≤—ñ–¥–µ–æ, –∞—É–¥—ñ–æ —Ç–∞ –º–æ–≤–∞, –∑ –º–æ–¥–µ–ª—è–º–∏ –∑ –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤, —è–∫-–æ—Ç PyTorch, TensorFlow, ONNX —Ç–∞ —ñ–Ω—à–∏—Ö. –ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –º–æ–¥–µ–ª—ñ, —Ä–æ–∑–≥–æ—Ä—Ç–∞—é—á–∏ —ó—Ö –Ω–∞ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ–º—É –∞–ø–∞—Ä–∞—Ç–Ω–æ–º—É –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—ñ Intel¬Æ —Ç–∞ –≤ —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó, —É –±—Ä–∞—É–∑–µ—Ä—ñ –∞–±–æ –≤ —Ö–º–∞—Ä—ñ.

–ó OpenVINO –≤–∏ –º–æ–∂–µ—Ç–µ —à–≤–∏–¥–∫–æ –∫–≤–∞–Ω—Ç–∏–∑—É–≤–∞—Ç–∏ –º–æ–¥–µ–ª—å GenAI –Ω–∞ –∞–ø–∞—Ä–∞—Ç–Ω–æ–º—É –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—ñ Intel —Ç–∞ –ø—Ä–∏—Å–∫–æ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É –º–æ–¥–µ–ª—ñ.

–ù–∞—Ä–∞–∑—ñ OpenVINO –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü—ñ—ó –¥–ª—è Phi-3.5-Vision —Ç–∞ Phi-3.5 Instruct.

### **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞**

–ë—É–¥—å –ª–∞—Å–∫–∞, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –Ω–∞–≤–µ–¥–µ–Ω—ñ —É —Ñ–∞–π–ª—ñ requirement.txt

```txt

--extra-index-url https://download.pytorch.org/whl/cpu
optimum-intel>=1.18.2
nncf>=2.11.0
openvino>=2024.3.0
transformers>=4.40
openvino-genai>=2024.3.0.0

```

### **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü—ñ—è Phi-3.5-Instruct –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é OpenVINO**

–£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ü–µ–π —Å–∫—Ä–∏–ø—Ç

```bash


export llm_model_id = "microsoft/Phi-3.5-mini-instruct"

export llm_model_path = "your save quantizing Phi-3.5-instruct location"

optimum-cli export openvino --model {llm_model_id} --task text-generation-with-past --weight-format int4 --group-size 128 --ratio 0.6  --sym  --trust-remote-code {llm_model_path}


```

### **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü—ñ—è Phi-3.5-Vision –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é OpenVINO**

–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ü–µ–π —Å–∫—Ä–∏–ø—Ç —É Python –∞–±–æ Jupyter lab

```python

import requests
from pathlib import Path
from ov_phi3_vision import convert_phi3_model
import nncf

if not Path("ov_phi3_vision.py").exists():
    r = requests.get(url="https://raw.githubusercontent.com/openvinotoolkit/openvino_notebooks/latest/notebooks/phi-3-vision/ov_phi3_vision.py")
    open("ov_phi3_vision.py", "w").write(r.text)


if not Path("gradio_helper.py").exists():
    r = requests.get(url="https://raw.githubusercontent.com/openvinotoolkit/openvino_notebooks/latest/notebooks/phi-3-vision/gradio_helper.py")
    open("gradio_helper.py", "w").write(r.text)

if not Path("notebook_utils.py").exists():
    r = requests.get(url="https://raw.githubusercontent.com/openvinotoolkit/openvino_notebooks/latest/utils/notebook_utils.py")
    open("notebook_utils.py", "w").write(r.text)



model_id = "microsoft/Phi-3.5-vision-instruct"
out_dir = Path("../model/phi-3.5-vision-128k-instruct-ov")
compression_configuration = {
    "mode": nncf.CompressWeightsMode.INT4_SYM,
    "group_size": 64,
    "ratio": 0.6,
}
if not out_dir.exists():
    convert_phi3_model(model_id, out_dir, compression_configuration)

```

### **ü§ñ –ü—Ä–∏–∫–ª–∞–¥–∏ –¥–ª—è Phi-3.5 –∑ Intel OpenVINO**

| –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó    | –û–ø–∏—Å | –ü–µ—Ä–µ–π—Ç–∏ |
| -------- | ------- |  ------- |
| üöÄ Lab-Introduce Phi-3.5 Instruct  | –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Phi-3.5 Instruct –Ω–∞ –≤–∞—à–æ–º—É AI PC    |  [–ü–µ—Ä–µ–π—Ç–∏](../../../../../code/09.UpdateSamples/Aug/intel-phi35-instruct-zh.ipynb)    |
| üöÄ Lab-Introduce Phi-3.5 Vision (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è) | –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Phi-3.5 Vision –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∑–æ–±—Ä–∞–∂–µ–Ω—å –Ω–∞ –≤–∞—à–æ–º—É AI PC      |  [–ü–µ—Ä–µ–π—Ç–∏](../../../../../code/09.UpdateSamples/Aug/intel-phi35-vision-img.ipynb)    |
| üöÄ Lab-Introduce Phi-3.5 Vision (–≤—ñ–¥–µ–æ)   | –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Phi-3.5 Vision –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –≤—ñ–¥–µ–æ –Ω–∞ –≤–∞—à–æ–º—É AI PC    |  [–ü–µ—Ä–µ–π—Ç–∏](../../../../../code/09.UpdateSamples/Aug/intel-phi35-vision-video.ipynb)    |

## **–†–µ—Å—É—Ä—Å–∏**

1. –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ Intel OpenVINO [https://www.intel.com/content/www/us/en/developer/tools/openvino-toolkit/overview.html](https://www.intel.com/content/www/us/en/developer/tools/openvino-toolkit/overview.html)

2. –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π Intel OpenVINO –Ω–∞ GitHub [https://github.com/openvinotoolkit/openvino.genai](https://github.com/openvinotoolkit/openvino.genai)

**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–ª–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç —Ä—ñ–¥–Ω–æ—é –º–æ–≤–æ—é —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –ª—é–¥—Å—å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–ª–∏ –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.