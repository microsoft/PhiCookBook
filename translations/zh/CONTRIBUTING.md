<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "9f71f15fee9a73ecfcd4fd40efbe3070",
  "translation_date": "2025-05-07T13:03:14+00:00",
  "source_file": "CONTRIBUTING.md",
  "language_code": "zh"
}
-->
# 贡献指南

本项目欢迎贡献和建议。大多数贡献需要您同意一份贡献者许可协议（Contributor License Agreement，CLA），声明您有权且确实授予我们使用您的贡献的权利。详情请访问 [https://cla.opensource.microsoft.com](https://cla.opensource.microsoft.com)

当您提交拉取请求时，CLA 机器人会自动判断您是否需要提供 CLA，并相应地标注 PR（例如状态检查、评论）。只需按照机器人的指示操作即可。您只需在所有使用我们 CLA 的仓库中完成一次此操作。

## 行为准则

本项目已采纳 [Microsoft 开源行为准则](https://opensource.microsoft.com/codeofconduct/)。  
更多信息请参阅 [行为准则常见问题](https://opensource.microsoft.com/codeofconduct/faq/) 或通过 [opencode@microsoft.com](mailto:opencode@microsoft.com) 联系我们，提出任何额外问题或建议。

## 创建 Issue 的注意事项

请勿为一般支持问题打开 GitHub issue，GitHub 列表应仅用于功能请求和缺陷报告。这样我们可以更方便地跟踪代码中的实际问题或缺陷，并将一般讨论与代码问题分开。

## 如何贡献

### 拉取请求指南

向 Phi-3 CookBook 仓库提交拉取请求（PR）时，请遵循以下指南：

- **Fork 仓库**：在进行修改前，请先将仓库 fork 到您自己的账户。

- **分开提交不同类型的 PR**：
  - 每种类型的更改应在单独的 PR 中提交。例如，缺陷修复和文档更新应分别提交。
  - 拼写错误修正和小幅文档更新可以适当合并在一个 PR 中。

- **处理合并冲突**：如果您的 PR 出现合并冲突，请先更新本地 `main` 分支以同步主仓库，然后再进行修改。

- **翻译提交**：提交翻译 PR 时，请确保翻译文件夹包含原文件夹中所有文件的翻译。

### 翻译指南

> [!IMPORTANT]
>
> 翻译本仓库内容时，请勿使用机器翻译。仅在您精通该语言的情况下自愿参与翻译。

如果您精通非英语语言，可以帮助翻译内容。为确保您的翻译贡献正确集成，请遵循以下步骤：

- **创建翻译文件夹**：进入相应章节文件夹，为您贡献的语言创建翻译文件夹。例如：
  - 介绍章节：`PhiCookBook/md/01.Introduce/translations/<language_code>/`
  - 快速入门章节：`PhiCookBook/md/02.QuickStart/translations/<language_code>/`
  - 其他章节依此类推（03.Inference、04.Finetuning 等）

- **更新相对路径**：翻译时，请在 Markdown 文件中相对路径前添加 `../../`，以确保链接正确。例如：
  - 将 `(../../imgs/01/phi3aisafety.png)` 修改为 `(../../../../imgs/01/phi3aisafety.png)`

- **整理翻译文件**：每个翻译文件应放在对应章节的翻译文件夹中。例如，若将介绍章节翻译成西班牙语，应创建如下结构：
  - `PhiCookBook/md/01.Introduce/translations/es/`

- **提交完整的 PR**：确保一个章节的所有翻译文件包含在同一个 PR 中。我们不接受章节的部分翻译。提交翻译 PR 时，请确保翻译文件夹包含原文件夹中所有文件的翻译。

### 撰写指南

为保证文档风格一致，请遵循以下指南：

- **URL 格式**：所有 URL 用方括号括起，后跟圆括号，中间无多余空格。例如：`[example](https://www.microsoft.com)`。

- **相对链接**：使用 `./` 指向当前目录中的文件或文件夹，使用 `../` 指向上级目录中的文件或文件夹。例如：`[example](../../path/to/file)` 或 `[example](../../../path/to/file)`。

- **非国家特定的本地化链接**：确保链接中不包含国家特定的本地化标识。例如，避免出现 `/en-us/` 或 `/en/`。

- **图片存储**：所有图片应存放在 `./imgs` 文件夹中。

- **描述性图片命名**：图片名称应使用英文字符、数字和短横线，且具有描述性。例如：`example-image.jpg`。

## GitHub 工作流

当您提交拉取请求时，以下工作流将自动运行以验证更改。请按照下面的说明操作，确保您的 PR 通过工作流检查：

- [检查断开的相对路径](../..)
- [检查 URL 中不包含本地化标识](../..)

### 检查断开的相对路径

此工作流确保文件中的所有相对路径均正确。

1. 为确保链接正常工作，请使用 VS Code 执行以下操作：
    - 将鼠标悬停在文件中的任意链接上。
    - 按 **Ctrl + 点击** 跳转到链接目标。
    - 如果点击链接在本地无法打开，则会触发工作流，GitHub 上也无法访问。

1. 若发现问题，请按 VS Code 提示进行修正：
    - 输入 `./` 或 `../`。
    - VS Code 会根据输入提示可选路径。
    - 点击所需文件或文件夹，确保路径正确。

添加正确的相对路径后，保存并推送更改。

### 检查 URL 中不包含本地化标识

此工作流确保所有网页 URL 不包含国家特定的本地化标识。鉴于本仓库面向全球用户，确保 URL 不含本地化标识非常重要。

1. 验证 URL 中是否包含国家本地化标识：

    - 检查是否有类似 `/en-us/`、`/en/` 或其他语言本地化标识的文本。
    - 若未出现，则通过检查。

1. 若发现问题，请执行以下操作：

    - 打开工作流标记的文件路径。
    - 从 URL 中移除国家本地化标识。

移除本地化标识后，保存并推送更改。

### 检查断开的 URL

此工作流确保文件中的所有网页 URL 都有效且返回 200 状态码。

1. 验证 URL 是否正常：

    - 检查文件中 URL 的状态。

2. 若发现断开的 URL，请执行以下操作：

    - 打开包含断链的文件。
    - 更新为正确的 URL。

修正 URL 后，保存并推送更改。

> [!NOTE]
>
> 有时 URL 检查可能失败，但链接仍可访问。原因可能包括：
>
> - **网络限制**：GitHub Actions 服务器可能有网络限制，阻止访问某些 URL。
> - **超时问题**：响应时间过长的 URL 可能导致工作流超时错误。
> - **临时服务器问题**：服务器偶尔维护或故障可能导致验证时 URL 暂时不可用。

**免责声明**：  
本文件已使用 AI 翻译服务 [Co-op Translator](https://github.com/Azure/co-op-translator) 进行翻译。虽然我们力求准确，但请注意自动翻译可能存在错误或不准确之处。原始语言版本的文件应被视为权威来源。对于重要信息，建议采用专业人工翻译。我们不对因使用本翻译而产生的任何误解或曲解承担责任。