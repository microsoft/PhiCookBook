<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d7d7afa242a4a041ff4193546d4baf16",
  "translation_date": "2025-05-09T20:00:30+00:00",
  "source_file": "md/02.Application/04.Vision/Phi3/E2E_OpenVino_Phi3Vision.md",
  "language_code": "th"
}
-->
เดโมนี้แสดงวิธีการใช้ pretrained model เพื่อสร้างโค้ด Python โดยอ้างอิงจากภาพและข้อความ prompt

[Sample Code](../../../../../../code/06.E2E/E2E_OpenVino_Phi3-vision.ipynb)

นี่คือคำอธิบายทีละขั้นตอน:

1. **Imports and Setup**:
   - นำเข้าห้องสมุดและโมดูลที่จำเป็น รวมถึง `requests`, `PIL` สำหรับการประมวลผลภาพ และ `transformers` สำหรับจัดการโมเดลและการประมวลผล

2. **Loading and Displaying the Image**:
   - เปิดไฟล์ภาพ (`demo.png`) โดยใช้ไลบรารี `PIL` และแสดงผลภาพ

3. **Defining the Prompt**:
   - สร้างข้อความที่รวมภาพและคำขอให้สร้างโค้ด Python เพื่อประมวลผลภาพและบันทึกโดยใช้ `plt` (matplotlib)

4. **Loading the Processor**:
   - โหลด `AutoProcessor` จาก pretrained model ที่ระบุไว้ในไดเรกทอรี `out_dir` ตัวประมวลผลนี้จะจัดการกับข้อความและภาพที่ป้อนเข้า

5. **Creating the Prompt**:
   - ใช้วิธี `apply_chat_template` เพื่อจัดรูปแบบข้อความเป็น prompt ที่เหมาะสมสำหรับโมเดล

6. **Processing the Inputs**:
   - ประมวลผล prompt และภาพเป็นเทนเซอร์ที่โมเดลเข้าใจได้

7. **Setting Generation Arguments**:
   - กำหนดอาร์กิวเมนต์สำหรับกระบวนการสร้างของโมเดล รวมถึงจำนวนโทเค็นใหม่สูงสุดที่จะสร้างและการสุ่มผลลัพธ์

8. **Generating the Code**:
   - โมเดลสร้างโค้ด Python ตามข้อมูลป้อนเข้าและอาร์กิวเมนต์การสร้าง ใช้ `TextStreamer` เพื่อจัดการผลลัพธ์ โดยข้าม prompt และโทเค็นพิเศษ

9. **Output**:
   - พิมพ์โค้ดที่สร้างขึ้น ซึ่งควรรวมโค้ด Python สำหรับประมวลผลภาพและบันทึกตามที่ระบุใน prompt

เดโมนี้แสดงให้เห็นวิธีใช้ pretrained model ผ่าน OpenVino เพื่อสร้างโค้ดแบบไดนามิกโดยอิงจากข้อมูลป้อนเข้าและภาพของผู้ใช้

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษา AI [Co-op Translator](https://github.com/Azure/co-op-translator) แม้เราจะพยายามให้ความถูกต้องสูงสุด แต่โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่ถูกต้อง เอกสารต้นฉบับในภาษาต้นฉบับถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่สำคัญ ขอแนะนำให้ใช้การแปลโดยมืออาชีพที่เป็นมนุษย์ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความผิดใด ๆ ที่เกิดจากการใช้การแปลนี้