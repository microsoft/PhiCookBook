Phi-3-mini WebGPU RAG Chatbot

## ตัวอย่างสาธิตเพื่อแสดง WebGPU และรูปแบบ RAG
รูปแบบ RAG กับโมเดล Phi-3 Onnx Hosted ใช้วิธี Retrieval-Augmented Generation ซึ่งผสมผสานพลังของโมเดล Phi-3 กับการโฮสต์ ONNX เพื่อการใช้งาน AI ที่มีประสิทธิภาพ รูปแบบนี้มีบทบาทสำคัญในการปรับแต่งโมเดลสำหรับงานเฉพาะทาง โดยให้ความสมดุลระหว่างคุณภาพ ความคุ้มค่า และความเข้าใจบริบทระยะยาว เป็นส่วนหนึ่งของชุด Azure AI ที่มีโมเดลให้เลือกหลากหลาย ใช้งานง่าย เหมาะกับความต้องการปรับแต่งในอุตสาหกรรมต่างๆ โมเดล Phi-3 เช่น Phi-3-mini, Phi-3-small และ Phi-3-medium มีให้ใช้งานใน Azure AI Model Catalog และสามารถปรับแต่งและนำไปใช้งานได้ทั้งแบบจัดการเองหรือผ่านแพลตฟอร์มอย่าง HuggingFace และ ONNX แสดงให้เห็นถึงความมุ่งมั่นของ Microsoft ในการนำเสนอ AI ที่เข้าถึงได้และมีประสิทธิภาพ

## WebGPU คืออะไร
WebGPU คือ API กราฟิกเว็บสมัยใหม่ที่ออกแบบมาเพื่อให้เข้าถึงหน่วยประมวลผลกราฟิก (GPU) ของอุปกรณ์ได้อย่างมีประสิทธิภาพโดยตรงจากเว็บเบราว์เซอร์ มีเป้าหมายเป็นตัวแทนของ WebGL โดยมีการปรับปรุงสำคัญหลายประการดังนี้:

1. **รองรับ GPU สมัยใหม่**: WebGPU ถูกสร้างขึ้นให้ทำงานร่วมกับสถาปัตยกรรม GPU ยุคใหม่ได้อย่างราบรื่น โดยใช้ API ของระบบอย่าง Vulkan, Metal และ Direct3D 12
2. **ประสิทธิภาพที่ดีขึ้น**: รองรับการประมวลผลทั่วไปบน GPU และการทำงานที่รวดเร็ว เหมาะสำหรับทั้งการเรนเดอร์กราฟิกและงานเรียนรู้ของเครื่อง
3. **ฟีเจอร์ขั้นสูง**: WebGPU เปิดโอกาสให้เข้าถึงความสามารถของ GPU ที่ซับซ้อนมากขึ้น ทำให้รองรับงานกราฟิกและการคำนวณที่มีความซับซ้อนและไดนามิกมากขึ้น
4. **ลดภาระงานของ JavaScript**: โดยการย้ายงานไปให้ GPU ทำมากขึ้น WebGPU ช่วยลดภาระของ JavaScript ทำให้ประสิทธิภาพดีขึ้นและประสบการณ์ใช้งานราบรื่นกว่าเดิม

ปัจจุบัน WebGPU ได้รับการสนับสนุนในเบราว์เซอร์อย่าง Google Chrome และกำลังขยายการรองรับไปยังแพลตฟอร์มอื่นๆ

### 03.WebGPU
สภาพแวดล้อมที่ต้องการ:

**เบราว์เซอร์ที่รองรับ:**  
- Google Chrome 113 ขึ้นไป  
- Microsoft Edge 113 ขึ้นไป  
- Safari 18 (macOS 15)  
- Firefox Nightly

### วิธีเปิดใช้งาน WebGPU:

- ใน Chrome/Microsoft Edge

เปิดใช้งานแฟล็ก `chrome://flags/#enable-unsafe-webgpu`

#### เปิดเบราว์เซอร์ของคุณ:
เปิด Google Chrome หรือ Microsoft Edge

#### เข้าไปที่หน้าการตั้งค่าแฟล็ก:
พิมพ์ `chrome://flags` ในแถบที่อยู่แล้วกด Enter

#### ค้นหาแฟล็ก:
พิมพ์ 'enable-unsafe-webgpu' ในช่องค้นหาด้านบนของหน้า

#### เปิดใช้งานแฟล็ก:
ค้นหาแฟล็ก #enable-unsafe-webgpu ในรายการผลลัพธ์

คลิกเมนูแบบเลื่อนลงข้างๆ แล้วเลือก Enabled

#### รีสตาร์ทเบราว์เซอร์ของคุณ:

หลังจากเปิดใช้งานแฟล็กแล้ว คุณต้องรีสตาร์ทเบราว์เซอร์เพื่อให้การเปลี่ยนแปลงมีผล คลิกปุ่ม Relaunch ที่ปรากฏด้านล่างของหน้า

- สำหรับ Linux ให้เปิดเบราว์เซอร์ด้วยคำสั่ง `--enable-features=Vulkan`  
- Safari 18 (macOS 15) เปิดใช้งาน WebGPU โดยค่าเริ่มต้น  
- ใน Firefox Nightly ให้พิมพ์ about:config ในแถบที่อยู่ แล้วตั้งค่า dom.webgpu.enabled เป็น true

### การตั้งค่า GPU สำหรับ Microsoft Edge

ขั้นตอนการตั้งค่า GPU ประสิทธิภาพสูงสำหรับ Microsoft Edge บน Windows:

- **เปิดการตั้งค่า:** คลิกเมนู Start แล้วเลือก Settings  
- **การตั้งค่าระบบ:** ไปที่ System แล้วเลือก Display  
- **การตั้งค่ากราฟิก:** เลื่อนลงมาแล้วคลิก Graphics settings  
- **เลือกแอป:** ในหัวข้อ “Choose an app to set preference” เลือก Desktop app แล้วคลิก Browse  
- **เลือก Edge:** ไปที่โฟลเดอร์ติดตั้ง Edge (โดยปกติจะอยู่ที่ `C:\Program Files (x86)\Microsoft\Edge\Application`) แล้วเลือก `msedge.exe`  
- **ตั้งค่าความต้องการ:** คลิก Options เลือก High performance แล้วคลิก Save  
ขั้นตอนนี้จะทำให้ Microsoft Edge ใช้ GPU ประสิทธิภาพสูงของคุณเพื่อประสิทธิภาพที่ดีกว่า  
- **รีสตาร์ท** เครื่องของคุณเพื่อให้การตั้งค่านี้มีผล

### เปิด Codespace ของคุณ:
ไปที่ repository ของคุณบน GitHub  
คลิกปุ่ม Code แล้วเลือก Open with Codespaces

ถ้าคุณยังไม่มี Codespace สามารถสร้างได้โดยคลิก New codespace

**หมายเหตุ** การติดตั้ง Node Environment ใน codespace ของคุณ  
การรันตัวอย่าง npm จาก GitHub Codespace เป็นวิธีที่ดีในการทดสอบและพัฒนาโปรเจกต์ นี่คือคำแนะนำทีละขั้นตอนเพื่อช่วยให้คุณเริ่มต้นได้:

### ตั้งค่าสภาพแวดล้อมของคุณ:
เมื่อเปิด Codespace แล้ว ให้ตรวจสอบว่าคุณมี Node.js และ npm ติดตั้งอยู่หรือไม่ โดยรันคำสั่ง:
```
node -v
```  
```
npm -v
```

ถ้ายังไม่มี ให้ติดตั้งด้วยคำสั่ง:
```
sudo apt-get update
```  
```
sudo apt-get install nodejs npm
```

### ไปยังไดเรกทอรีโปรเจกต์ของคุณ:
ใช้เทอร์มินัลเพื่อไปยังไดเรกทอรีที่โปรเจกต์ npm ของคุณอยู่:
```
cd path/to/your/project
```

### ติดตั้ง dependencies:
รันคำสั่งนี้เพื่อติดตั้ง dependencies ทั้งหมดที่ระบุในไฟล์ package.json ของคุณ:

```
npm install
```

### รันตัวอย่าง:
เมื่อ dependencies ติดตั้งเสร็จแล้ว คุณสามารถรันสคริปต์ตัวอย่างได้ ซึ่งโดยปกติจะระบุไว้ในส่วน scripts ของ package.json เช่น ถ้าสคริปต์ตัวอย่างชื่อ start ให้รัน:

```
npm run build
```  
```
npm run dev
```

### เข้าถึงตัวอย่าง:
ถ้าตัวอย่างของคุณมีเว็บเซิร์ฟเวอร์ Codespaces จะให้ URL สำหรับเข้าถึง ดูการแจ้งเตือนหรือตรวจสอบแท็บ Ports เพื่อหาลิงก์ URL

**หมายเหตุ:** โมเดลจะต้องถูกแคชในเบราว์เซอร์ จึงอาจใช้เวลาสักครู่ในการโหลด

### ตัวอย่าง RAG
อัปโหลดไฟล์ markdown `intro_rag.md` เพื่อทำให้โซลูชัน RAG สมบูรณ์ หากใช้ codespaces คุณสามารถดาวน์โหลดไฟล์ได้ที่ `01.InferencePhi3/docs/`

### เลือกไฟล์ของคุณ:
คลิกปุ่ม “Choose File” เพื่อเลือกเอกสารที่ต้องการอัปโหลด

### อัปโหลดเอกสาร:
หลังจากเลือกไฟล์แล้ว คลิกปุ่ม “Upload” เพื่อโหลดเอกสารสำหรับ RAG (Retrieval-Augmented Generation)

### เริ่มแชทของคุณ:
เมื่ออัปโหลดเอกสารเสร็จแล้ว คุณสามารถเริ่มเซสชันแชทโดยใช้ RAG ตามเนื้อหาของเอกสารนั้นได้ทันที

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษาอัตโนมัติ [Co-op Translator](https://github.com/Azure/co-op-translator) แม้เราจะพยายามให้ความถูกต้องสูงสุด แต่โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่ถูกต้อง เอกสารต้นฉบับในภาษาต้นทางถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่สำคัญ ขอแนะนำให้ใช้บริการแปลโดยผู้เชี่ยวชาญมนุษย์ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความผิดใด ๆ ที่เกิดจากการใช้การแปลนี้