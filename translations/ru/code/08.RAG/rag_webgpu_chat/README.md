Phi-3-mini WebGPU RAG Чатбот

## Демонстрация возможностей WebGPU и паттерна RAG  
Паттерн RAG с моделью Phi-3 Onnx Hosted использует подход Retrieval-Augmented Generation, объединяя мощь моделей Phi-3 с ONNX-хостингом для эффективного развертывания ИИ. Этот паттерн особенно полезен для дообучения моделей под задачи конкретных областей, обеспечивая баланс между качеством, экономичностью и пониманием длинных контекстов. Он входит в набор инструментов Azure AI, предлагая широкий выбор моделей, которые легко найти, протестировать и использовать, учитывая потребности кастомизации в разных отраслях. Модели Phi-3, включая Phi-3-mini, Phi-3-small и Phi-3-medium, доступны в Azure AI Model Catalog и могут быть дообучены и развернуты самостоятельно или через платформы вроде HuggingFace и ONNX, демонстрируя приверженность Microsoft к доступным и эффективным ИИ-решениям.

## Что такое WebGPU  
WebGPU — это современный веб-API для графики, который обеспечивает эффективный доступ к графическому процессору (GPU) устройства напрямую из браузера. Он задуман как преемник WebGL и предлагает несколько ключевых улучшений:

1. **Совместимость с современными GPU**: WebGPU создан для бесшовной работы с современными архитектурами GPU, используя системные API, такие как Vulkan, Metal и Direct3D 12.  
2. **Повышенная производительность**: поддерживает вычисления общего назначения на GPU и ускоренные операции, что делает его подходящим как для рендеринга графики, так и для задач машинного обучения.  
3. **Расширенные возможности**: WebGPU предоставляет доступ к более продвинутым функциям GPU, позволяя выполнять более сложные и динамичные графические и вычислительные задачи.  
4. **Снижение нагрузки на JavaScript**: за счет передачи большего объема работы GPU, WebGPU значительно уменьшает нагрузку на JavaScript, что улучшает производительность и обеспечивает более плавный пользовательский опыт.

В настоящее время WebGPU поддерживается в браузерах, таких как Google Chrome, и ведется работа по расширению поддержки на другие платформы.

### 03.WebGPU  
Требуемая среда:

**Поддерживаемые браузеры:**  
- Google Chrome 113+  
- Microsoft Edge 113+  
- Safari 18 (macOS 15)  
- Firefox Nightly.

### Включение WebGPU:

- В Chrome/Microsoft Edge  

Включите флаг `chrome://flags/#enable-unsafe-webgpu`.

#### Откройте браузер:  
Запустите Google Chrome или Microsoft Edge.

#### Перейдите на страницу флагов:  
В адресной строке введите `chrome://flags` и нажмите Enter.

#### Найдите нужный флаг:  
В строке поиска вверху страницы введите 'enable-unsafe-webgpu'.

#### Включите флаг:  
Найдите флаг #enable-unsafe-webgpu в списке результатов.

Нажмите на выпадающее меню рядом с ним и выберите Enabled.

#### Перезапустите браузер:  

После включения флага необходимо перезапустить браузер, чтобы изменения вступили в силу. Нажмите кнопку Relaunch, которая появится внизу страницы.

- Для Linux запустите браузер с параметром `--enable-features=Vulkan`.  
- В Safari 18 (macOS 15) WebGPU включен по умолчанию.  
- В Firefox Nightly введите about:config в адресной строке и установите `dom.webgpu.enabled` в true.

### Настройка GPU для Microsoft Edge  

Вот шаги для настройки высокопроизводительного GPU для Microsoft Edge на Windows:

- **Откройте Настройки:** Нажмите на меню Пуск и выберите Настройки.  
- **Системные настройки:** Перейдите в раздел Система, затем Дисплей.  
- **Настройки графики:** Прокрутите вниз и нажмите на Настройки графики.  
- **Выбор приложения:** В разделе «Выберите приложение для настройки предпочтений» выберите Desktop app, затем нажмите Обзор.  
- **Выберите Edge:** Перейдите в папку установки Edge (обычно `C:\Program Files (x86)\Microsoft\Edge\Application`) и выберите `msedge.exe`.  
- **Установите предпочтение:** Нажмите Опции, выберите Высокая производительность и нажмите Сохранить.  
Это обеспечит использование Microsoft Edge вашего высокопроизводительного GPU для лучшей производительности.  
- **Перезагрузите** компьютер, чтобы настройки вступили в силу.

### Откройте ваш Codespace:  
Перейдите в ваш репозиторий на GitHub.  
Нажмите кнопку Code и выберите Open with Codespaces.

Если у вас еще нет Codespace, вы можете создать его, нажав New codespace.

**Примечание** Установка Node Environment в вашем codespace  
Запуск npm-демо из GitHub Codespace — отличный способ протестировать и развивать ваш проект. Вот пошаговое руководство, чтобы начать:

### Настройка среды:  
После открытия Codespace убедитесь, что у вас установлены Node.js и npm. Проверить это можно командой:  
```
node -v
```  
```
npm -v
```

Если они не установлены, установите их с помощью:  
```
sudo apt-get update
```  
```
sudo apt-get install nodejs npm
```

### Перейдите в каталог проекта:  
Используйте терминал, чтобы перейти в папку с вашим npm-проектом:  
```
cd path/to/your/project
```

### Установка зависимостей:  
Выполните команду для установки всех необходимых зависимостей из файла package.json:  

```
npm install
```

### Запуск демо:  
После установки зависимостей запустите скрипт демо. Обычно он указан в разделе scripts вашего package.json. Например, если скрипт называется start, выполните:  

```
npm run build
```  
```
npm run dev
```

### Доступ к демо:  
Если демо использует веб-сервер, Codespaces предоставит URL для доступа к нему. Следите за уведомлениями или проверьте вкладку Ports, чтобы найти ссылку.

**Примечание:** Модель должна быть закэширована в браузере, поэтому загрузка может занять некоторое время.

### Демонстрация RAG  
Загрузите markdown-файл `intro_rag.md` для завершения решения RAG. Если вы используете codespaces, файл можно скачать из `01.InferencePhi3/docs/`.

### Выберите файл:  
Нажмите кнопку «Choose File», чтобы выбрать документ для загрузки.

### Загрузите документ:  
После выбора файла нажмите кнопку «Upload», чтобы загрузить документ для RAG (Retrieval-Augmented Generation).

### Начните чат:  
После загрузки документа вы можете начать чат с использованием RAG на основе содержимого вашего документа.

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному переводу, выполненному человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.