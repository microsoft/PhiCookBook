<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4aac6b8a5dcbbe9a32b47be30340cac2",
  "translation_date": "2025-05-07T15:26:28+00:00",
  "source_file": "code/08.RAG/rag_webgpu_chat/README.md",
  "language_code": "ru"
}
-->
Phi-3-mini WebGPU RAG Chatbot

## Демонстрация для показа возможностей WebGPU и паттерна RAG
Паттерн RAG с использованием модели Phi-3 Onnx Hosted применяет подход Retrieval-Augmented Generation, объединяя мощь моделей Phi-3 с хостингом ONNX для эффективного развертывания ИИ. Этот паттерн особенно полезен для тонкой настройки моделей под задачи конкретных областей, предлагая баланс между качеством, экономичностью и пониманием длинного контекста. Он является частью набора Azure AI, предоставляя широкий выбор моделей, которые легко найти, опробовать и использовать, удовлетворяя потребности кастомизации в разных отраслях. Модели Phi-3, включая Phi-3-mini, Phi-3-small и Phi-3-medium, доступны в Azure AI Model Catalog и могут быть тонко настроены и развернуты самостоятельно или через платформы, такие как HuggingFace и ONNX, демонстрируя приверженность Microsoft к доступным и эффективным решениям в области ИИ.

## Что такое WebGPU
WebGPU — это современный веб-графический API, предназначенный для эффективного доступа к графическому процессору (GPU) устройства напрямую из веб-браузеров. Он задуман как преемник WebGL и предлагает несколько ключевых улучшений:

1. **Совместимость с современными GPU**: WebGPU создан для бесшовной работы с современными архитектурами GPU, используя системные API, такие как Vulkan, Metal и Direct3D 12.
2. **Повышенная производительность**: Поддерживает вычисления общего назначения на GPU и ускоренные операции, что делает его подходящим как для графического рендеринга, так и для задач машинного обучения.
3. **Расширенные возможности**: WebGPU предоставляет доступ к более продвинутым функциям GPU, позволяя создавать более сложные и динамичные графические и вычислительные нагрузки.
4. **Снижение нагрузки на JavaScript**: Перекладывая больше задач на GPU, WebGPU значительно уменьшает нагрузку на JavaScript, обеспечивая лучшую производительность и более плавный пользовательский опыт.

В настоящее время WebGPU поддерживается в браузерах, таких как Google Chrome, и ведётся работа по расширению поддержки на другие платформы.

### 03.WebGPU
Требуемая среда:

**Поддерживаемые браузеры:**  
- Google Chrome 113+  
- Microsoft Edge 113+  
- Safari 18 (macOS 15)  
- Firefox Nightly.

### Включение WebGPU:

- В Chrome/Microsoft Edge  

Включите флаг `chrome://flags/#enable-unsafe-webgpu`.

#### Откройте браузер:
Запустите Google Chrome или Microsoft Edge.

#### Перейдите на страницу флагов:
В адресной строке введите `chrome://flags` и нажмите Enter.

#### Найдите флаг:
В поле поиска вверху страницы введите 'enable-unsafe-webgpu'.

#### Включите флаг:
Найдите флаг #enable-unsafe-webgpu в списке результатов.

Нажмите на выпадающее меню рядом с ним и выберите Enabled.

#### Перезапустите браузер:

После включения флага необходимо перезапустить браузер, чтобы изменения вступили в силу. Нажмите кнопку Relaunch, которая появится внизу страницы.

- Для Linux запустите браузер с параметром `--enable-features=Vulkan`.  
- В Safari 18 (macOS 15) WebGPU включён по умолчанию.  
- В Firefox Nightly введите about:config в адресной строке и `set dom.webgpu.enabled to true`.

### Настройка GPU для Microsoft Edge

Вот шаги по настройке высокопроизводительного GPU для Microsoft Edge в Windows:

- **Откройте настройки:** Нажмите на меню Пуск и выберите Настройки.  
- **Системные настройки:** Перейдите в Система, затем Дисплей.  
- **Настройки графики:** Прокрутите вниз и нажмите на Настройки графики.  
- **Выберите приложение:** В разделе «Выберите приложение для установки предпочтений» выберите Приложение рабочего стола, затем Обзор.  
- **Выберите Edge:** Перейдите в папку установки Edge (обычно `C:\Program Files (x86)\Microsoft\Edge\Application`) и выберите `msedge.exe`.  
- **Установите предпочтение:** Нажмите Параметры, выберите Высокая производительность и нажмите Сохранить.  
Это обеспечит использование Microsoft Edge вашего высокопроизводительного GPU для лучшей производительности.  
- **Перезагрузите** компьютер, чтобы настройки вступили в силу.

### Откройте ваш Codespace:
Перейдите в ваш репозиторий на GitHub.  
Нажмите кнопку Code и выберите Open with Codespaces.

Если у вас ещё нет Codespace, создайте его, нажав New codespace.

**Примечание** Установка Node Environment в вашем codespace  
Запуск npm-демо из GitHub Codespace — отличный способ протестировать и развивать ваш проект. Вот пошаговая инструкция, чтобы начать:

### Настройте окружение:
После открытия Codespace убедитесь, что у вас установлены Node.js и npm. Проверьте это, выполнив:  
```
node -v
```  
```
npm -v
```

Если они не установлены, установите их с помощью:  
```
sudo apt-get update
```  
```
sudo apt-get install nodejs npm
```

### Перейдите в каталог проекта:
Используйте терминал, чтобы перейти в директорию с вашим npm-проектом:  
```
cd path/to/your/project
```

### Установите зависимости:
Выполните следующую команду для установки всех необходимых зависимостей, указанных в вашем package.json:  

```
npm install
```

### Запустите демонстрацию:
После установки зависимостей запустите скрипт демонстрации. Обычно он указан в разделе scripts вашего package.json. Например, если скрипт называется start, выполните:  

```
npm run build
```  
```
npm run dev
```

### Доступ к демонстрации:
Если демонстрация включает веб-сервер, Codespaces предоставит URL для доступа. Следите за уведомлениями или проверьте вкладку Ports, чтобы найти ссылку.

**Примечание:** Модель должна быть закэширована в браузере, поэтому загрузка может занять некоторое время.

### Демонстрация RAG
Загрузите markdown-файл `intro_rag.md` to complete the RAG solution. If using codespaces you can download the file located in `01.InferencePhi3/docs/`

### Выберите файл:
Нажмите кнопку «Choose File», чтобы выбрать документ для загрузки.

### Загрузите документ:
После выбора файла нажмите кнопку «Upload», чтобы загрузить документ для RAG (Retrieval-Augmented Generation).

### Начните чат:
После загрузки документа вы можете начать чат с использованием RAG на основе содержимого вашего документа.

**Отказ от ответственности**:  
Этот документ был переведен с использованием сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для критически важной информации рекомендуется обращаться к профессиональному человеческому переводу. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.