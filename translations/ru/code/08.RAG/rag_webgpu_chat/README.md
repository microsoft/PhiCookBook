<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4aac6b8a5dcbbe9a32b47be30340cac2",
  "translation_date": "2025-03-27T04:49:58+00:00",
  "source_file": "code\\08.RAG\\rag_webgpu_chat\\README.md",
  "language_code": "ru"
}
-->
Phi-3-mini WebGPU RAG Chatbot

## Демонстрация возможностей WebGPU и шаблона RAG
Шаблон RAG с размещенной моделью Phi-3 Onnx использует подход Retrieval-Augmented Generation, сочетая мощь моделей Phi-3 с размещением ONNX для эффективного развертывания ИИ. Этот шаблон играет ключевую роль в настройке моделей для задач в конкретных областях, предлагая сочетание качества, экономичности и понимания длинного контекста. Это часть набора Azure AI, предоставляющего широкий выбор моделей, которые легко найти, протестировать и использовать, удовлетворяя потребности различных отраслей в кастомизации. Модели Phi-3, включая Phi-3-mini, Phi-3-small и Phi-3-medium, доступны в Azure AI Model Catalog и могут быть доработаны и развернуты самостоятельно или через платформы, такие как HuggingFace и ONNX, демонстрируя приверженность Microsoft доступным и эффективным решениям ИИ.

## Что такое WebGPU
WebGPU — это современный веб-API для работы с графикой, разработанный для эффективного доступа к графическому процессору (GPU) устройства непосредственно из веб-браузеров. Он задуман как преемник WebGL и предлагает несколько ключевых улучшений:

1. **Совместимость с современными GPU**: WebGPU создан для бесшовной работы с современными архитектурами GPU, используя системные API, такие как Vulkan, Metal и Direct3D 12.
2. **Улучшенная производительность**: Поддерживает вычисления общего назначения на GPU и ускоренные операции, что делает его подходящим как для рендеринга графики, так и для задач машинного обучения.
3. **Расширенные возможности**: WebGPU предоставляет доступ к более сложным возможностям GPU, позволяя выполнять более сложные и динамичные графические и вычислительные задачи.
4. **Снижение нагрузки на JavaScript**: Перенося больше задач на GPU, WebGPU значительно снижает нагрузку на JavaScript, обеспечивая лучшую производительность и более плавную работу.

WebGPU в настоящее время поддерживается в браузерах, таких как Google Chrome, и ведется работа по расширению поддержки на другие платформы.

### 03.WebGPU
Необходимая среда:

**Поддерживаемые браузеры:** 
- Google Chrome 113+
- Microsoft Edge 113+
- Safari 18 (macOS 15)
- Firefox Nightly.

### Включение WebGPU:

- В Chrome/Microsoft Edge 

Включите флаг `chrome://flags/#enable-unsafe-webgpu`.

#### Откройте браузер:
Запустите Google Chrome или Microsoft Edge.

#### Перейдите на страницу флагов:
В адресной строке введите `chrome://flags` и нажмите Enter.

#### Найдите флаг:
В поле поиска в верхней части страницы введите 'enable-unsafe-webgpu'.

#### Включите флаг:
Найдите флаг #enable-unsafe-webgpu в списке результатов.

Нажмите на выпадающее меню рядом с ним и выберите Enabled.

#### Перезапустите браузер:

После включения флага вам нужно будет перезапустить браузер, чтобы изменения вступили в силу. Нажмите кнопку Relaunch, которая появится внизу страницы.

- Для Linux запустите браузер с `--enable-features=Vulkan`.
- Safari 18 (macOS 15) имеет WebGPU включенным по умолчанию.
- В Firefox Nightly введите about:config в адресной строке и `set dom.webgpu.enabled to true`.

### Настройка GPU для Microsoft Edge 

Вот шаги для настройки высокопроизводительного GPU для Microsoft Edge в Windows:

- **Откройте настройки:** Нажмите на меню Пуск и выберите Настройки.
- **Системные настройки:** Перейдите в раздел Система, затем Экран.
- **Настройки графики:** Пролистайте вниз и нажмите Настройки графики.
- **Выбор приложения:** В разделе «Выберите приложение для настройки предпочтений» выберите Приложение для рабочего стола и затем Обзор.
- **Выберите Edge:** Перейдите в папку установки Edge (обычно `C:\Program Files (x86)\Microsoft\Edge\Application`) и выберите `msedge.exe`.
- **Настройка предпочтений:** Нажмите Параметры, выберите Высокая производительность и затем нажмите Сохранить.
Это гарантирует, что Microsoft Edge будет использовать ваш высокопроизводительный GPU для улучшения производительности.
- **Перезагрузите** компьютер, чтобы настройки вступили в силу.

### Откройте свой Codespace:
Перейдите к своему репозиторию на GitHub.
Нажмите кнопку Code и выберите Open with Codespaces.

Если у вас еще нет Codespace, вы можете создать его, нажав New codespace.

**Примечание:** Установка среды Node в вашем Codespace
Запуск npm-демо из GitHub Codespace — отличный способ протестировать и развивать свой проект. Вот пошаговое руководство, которое поможет вам начать:

### Настройка среды:
После открытия Codespace убедитесь, что у вас установлены Node.js и npm. Вы можете проверить это, запустив:
```
node -v
```
```
npm -v
```

Если они не установлены, вы можете установить их с помощью:
```
sudo apt-get update
```
```
sudo apt-get install nodejs npm
```

### Перейдите в каталог вашего проекта:
Используйте терминал, чтобы перейти в каталог, где находится ваш проект npm:
```
cd path/to/your/project
```

### Установите зависимости:
Выполните следующую команду, чтобы установить все необходимые зависимости, указанные в вашем файле package.json:

```
npm install
```

### Запустите демонстрацию:
После установки зависимостей вы можете запустить ваш демонстрационный скрипт. Обычно это указано в разделе scripts вашего package.json. Например, если ваш демонстрационный скрипт называется start, вы можете запустить:

```
npm run build
```
```
npm run dev
```

### Доступ к демонстрации:
Если ваша демонстрация включает веб-сервер, Codespaces предоставит URL для доступа к ней. Найдите уведомление или проверьте вкладку Ports, чтобы найти URL.

**Примечание:** Модель должна быть закэширована в браузере, поэтому загрузка может занять некоторое время.

### Демонстрация RAG
Загрузите markdown-файл `intro_rag.md` to complete the RAG solution. If using codespaces you can download the file located in `01.InferencePhi3/docs/`

### Выберите файл:
Нажмите кнопку «Выбрать файл», чтобы выбрать документ, который вы хотите загрузить.

### Загрузите документ:
После выбора файла нажмите кнопку «Загрузить», чтобы загрузить документ для RAG (Retrieval-Augmented Generation).

### Начните чат:
После загрузки документа вы можете начать сеанс чата, используя RAG на основе содержимого вашего документа.

**Отказ от ответственности**:  
Этот документ был переведен с использованием службы автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, обратите внимание, что автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные интерпретации, возникающие в результате использования данного перевода.